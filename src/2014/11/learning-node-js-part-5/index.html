<!DOCTYPE html>
<html lang="en-US">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="profile" href="http://gmpg.org/xfn/11">
				<link rel="pingback" href="/xmlrpc.php">
				<title>Learning Node.js, Part 5 &#8211; Stories from a Software Tester</title>
<meta name="robots" content="max-image-preview:large">
 <style type="text/css" class="darkmysite_inline_css">:root { --darkmysite_dark_mode_bg: #0f0f0f; --darkmysite_dark_mode_secondary_bg: #171717; --darkmysite_dark_mode_text_color: #bebebe; --darkmysite_dark_mode_link_color: #ffffff; --darkmysite_dark_mode_link_hover_color: #cccccc; --darkmysite_dark_mode_input_bg: #2d2d2d; --darkmysite_dark_mode_input_text_color: #bebebe; --darkmysite_dark_mode_input_placeholder_color: #989898; --darkmysite_dark_mode_border_color: #4a4a4a; --darkmysite_dark_mode_btn_bg: #2d2d2d; --darkmysite_dark_mode_btn_text_color: #bebebe; }</style> <style type="text/css" class="darkmysite_inline_css">.darkmysite_dark_mode_enabled::-webkit-scrollbar { background: #29292a !important; } .darkmysite_dark_mode_enabled::-webkit-scrollbar-track { background: #29292a !important; } .darkmysite_dark_mode_enabled::-webkit-scrollbar-thumb { background-color: #52565a !important; } .darkmysite_dark_mode_enabled::-webkit-scrollbar-corner { background-color: #52565a !important; } .darkmysite_dark_mode_enabled::-webkit-scrollbar-button { background-color: transparent !important; background-repeat: no-repeat !important; background-size: contain !important; background-position: center !important; } .darkmysite_dark_mode_enabled::-webkit-scrollbar-button:start { background-image: url(/wp-content/plugins/darkmysite/assets/img/others/scroll_arrow_up.svg) !important; } .darkmysite_dark_mode_enabled::-webkit-scrollbar-button:end { background-image: url(/wp-content/plugins/darkmysite/assets/img/others/scroll_arrow_down.svg) !important; } .darkmysite_dark_mode_enabled::-webkit-scrollbar-button:start:horizontal { background-image: url(/wp-content/plugins/darkmysite/assets/img/others/scroll_arrow_left.svg) !important; } .darkmysite_dark_mode_enabled::-webkit-scrollbar-button:end:horizontal { background-image: url(/wp-content/plugins/darkmysite/assets/img/others/scroll_arrow_right.svg) !important; }</style> <script type="text/javascript" class="darkmysite_inline_js">var darkmysite_switch_unique_id = "1889352766"; var darkmysite_is_this_admin_panel = "0"; var darkmysite_enable_default_dark_mode = "0"; var darkmysite_enable_os_aware = "1"; var darkmysite_enable_keyboard_shortcut = "1"; var darkmysite_enable_time_based_dark = "0"; var darkmysite_time_based_dark_start = "19:00"; var darkmysite_time_based_dark_stop = "07:00"; var darkmysite_alternative_dark_mode_switch = ""; var darkmysite_enable_low_image_brightness = "1"; var darkmysite_image_brightness_to = "80"; var darkmysite_enable_image_grayscale = "0"; var darkmysite_image_grayscale_to = "80"; var darkmysite_enable_bg_image_darken = "1"; var darkmysite_bg_image_darken_to = "60"; var darkmysite_enable_invert_inline_svg = "0"; var darkmysite_enable_low_video_brightness = "1"; var darkmysite_video_brightness_to = "80"; var darkmysite_enable_video_grayscale = "0"; var darkmysite_video_grayscale_to = "80"; var darkmysite_disallowed_elements = ".darkmysite_ignore, .darkmysite_ignore *, .darkmysite_switch, .darkmysite_switch *, .wp-block-button__link, .wp-block-button__link *";</script><link rel="dns-prefetch" href="//static.addtoany.com">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="alternate" type="application/rss+xml" title="Stories from a Software Tester &raquo; Feed" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="Stories from a Software Tester &raquo; Comments Feed" href="/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Stories from a Software Tester &raquo; Learning Node.js, Part 5 Comments Feed" href="/2014/11/learning-node-js-part-5/feed/">
<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.2.2"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){p.clearRect(0,0,i.width,i.height),p.fillText(e,0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(t,0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(p&&p.fillText)switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s("🏳️‍⚧️","🏳️​⚧️")?!1:!s("🇺🇳","🇺​🇳")&&!s("🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴​󠁧​󠁢​󠁥​󠁮​󠁧​󠁿");case"emoji":return!s("🫱🏻‍🫲🏿","🫱🏻​🫲🏿")}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(e=t.source||{}).concatemoji?c(e.concatemoji):e.wpemoji&&e.twemoji&&(c(e.twemoji),c(e.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style>
	<link rel="stylesheet" id="urvanov_syntax_highlighter-css" href="/wp-content/plugins/urvanov-syntax-highlighter/css/min/urvanov_syntax_highlighter.min.css?ver=2.8.33" type="text/css" media="all">
<link rel="stylesheet" id="crayon-theme-classic-css" href="/wp-content/plugins/urvanov-syntax-highlighter/themes/classic/classic.css?ver=2.8.33" type="text/css" media="all">
<link rel="stylesheet" id="crayon-font-monaco-css" href="/wp-content/plugins/urvanov-syntax-highlighter/fonts/monaco.css?ver=2.8.33" type="text/css" media="all">
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=6.2.2" type="text/css" media="all">
<style id="wp-block-library-theme-inline-css" type="text/css">.wp-block-audio figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-audio figcaption{color:hsla(0,0%,100%,.65)}.wp-block-audio{margin:0 0 1em}.wp-block-code{border:1px solid #ccc;border-radius:4px;font-family:Menlo,Consolas,monaco,monospace;padding:.8em 1em}.wp-block-embed figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-embed figcaption{color:hsla(0,0%,100%,.65)}.wp-block-embed{margin:0 0 1em}.blocks-gallery-caption{color:#555;font-size:13px;text-align:center}.is-dark-theme .blocks-gallery-caption{color:hsla(0,0%,100%,.65)}.wp-block-image figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-image figcaption{color:hsla(0,0%,100%,.65)}.wp-block-image{margin:0 0 1em}.wp-block-pullquote{border-bottom:4px solid;border-top:4px solid;color:currentColor;margin-bottom:1.75em}.wp-block-pullquote cite,.wp-block-pullquote footer,.wp-block-pullquote__citation{color:currentColor;font-size:.8125em;font-style:normal;text-transform:uppercase}.wp-block-quote{border-left:.25em solid;margin:0 0 1.75em;padding-left:1em}.wp-block-quote cite,.wp-block-quote footer{color:currentColor;font-size:.8125em;font-style:normal;position:relative}.wp-block-quote.has-text-align-right{border-left:none;border-right:.25em solid;padding-left:0;padding-right:1em}.wp-block-quote.has-text-align-center{border:none;padding-left:0}.wp-block-quote.is-large,.wp-block-quote.is-style-large,.wp-block-quote.is-style-plain{border:none}.wp-block-search .wp-block-search__label{font-weight:700}.wp-block-search__button{border:1px solid #ccc;padding:.375em .625em}:where(.wp-block-group.has-background){padding:1.25em 2.375em}.wp-block-separator.has-css-opacity{opacity:.4}.wp-block-separator{border:none;border-bottom:2px solid;margin-left:auto;margin-right:auto}.wp-block-separator.has-alpha-channel-opacity{opacity:1}.wp-block-separator:not(.is-style-wide):not(.is-style-dots){width:100px}.wp-block-separator.has-background:not(.is-style-dots){border-bottom:none;height:1px}.wp-block-separator.has-background:not(.is-style-wide):not(.is-style-dots){height:2px}.wp-block-table{margin:0 0 1em}.wp-block-table td,.wp-block-table th{word-break:normal}.wp-block-table figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-table figcaption{color:hsla(0,0%,100%,.65)}.wp-block-video figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-video figcaption{color:hsla(0,0%,100%,.65)}.wp-block-video{margin:0 0 1em}.wp-block-template-part.has-background{margin-bottom:0;margin-top:0;padding:1.25em 2.375em}</style>
<link rel="stylesheet" id="classic-theme-styles-css" href="/wp-includes/css/classic-themes.min.css?ver=6.2.2" type="text/css" media="all">
<style id="global-styles-inline-css" type="text/css">body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}body .is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}</style>
<link rel="stylesheet" id="darkmysite-client-main-css" href="/wp-content/plugins/darkmysite/assets/css/client_main.css?ver=1.2.6" type="text/css" media="all">
<link rel="stylesheet" id="plyr-css-css" href="/wp-content/plugins/easy-video-player/lib/plyr.css?ver=6.2.2" type="text/css" media="all">
<link rel="stylesheet" id="acuarela-fonts-css" href="https://fonts.googleapis.com/css?family=Lato%3A300italic%2C400italic%2C700italic%2C300%2C400%2C700%7CArima+Madurai%3A700%2C800%7CInconsolata%3A400%2C700&#038;subset=latin%2Clatin-ext&#038;ver=20190802" type="text/css" media="all">
<link rel="stylesheet" id="genericons-css" href="/wp-content/themes/acuarela/genericons/genericons.css?ver=3.4.1" type="text/css" media="all">
<link rel="stylesheet" id="animate-css" href="/wp-content/themes/acuarela/css/animate.css?ver=3.7.2" type="text/css" media="all">
<link rel="stylesheet" id="acuarela-style-css" href="/wp-content/themes/acuarela/style.css?ver=6.2.2" type="text/css" media="all">
<link rel="stylesheet" id="addtoany-css" href="/wp-content/plugins/add-to-any/addtoany.min.css?ver=1.16" type="text/css" media="all">
<script type="text/javascript" src="/wp-includes/js/jquery/jquery.min.js?ver=3.6.4" id="jquery-core-js"></script>
<script type="text/javascript" src="/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.0" id="jquery-migrate-js"></script>
<script type="text/javascript" id="urvanov_syntax_highlighter_js-js-extra">
/* <![CDATA[ */
var UrvanovSyntaxHighlighterSyntaxSettings = {"version":"2.8.33","is_admin":"0","ajaxurl":"\/wp-admin\/admin-ajax.php","prefix":"urvanov-syntax-highlighter-","setting":"urvanov-syntax-highlighter-setting","selected":"urvanov-syntax-highlighter-setting-selected","changed":"urvanov-syntax-highlighter-setting-changed","special":"urvanov-syntax-highlighter-setting-special","orig_value":"data-orig-value","debug":""};
var UrvanovSyntaxHighlighterSyntaxStrings = {"copy":"Copied to the clipboard","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type="text/javascript" src="/wp-content/plugins/urvanov-syntax-highlighter/js/min/urvanov_syntax_highlighter.min.js?ver=2.8.33" id="urvanov_syntax_highlighter_js-js"></script>
<script type="text/javascript" id="addtoany-core-js-before">window.a2a_config=window.a2a_config||{};a2a_config.callbacks=[];a2a_config.overlays=[];a2a_config.templates={};</script>
<script type="text/javascript" async src="https://static.addtoany.com/menu/page.js" id="addtoany-core-js"></script>
<script type="text/javascript" async src="/wp-content/plugins/add-to-any/addtoany.min.js?ver=1.1" id="addtoany-jquery-js"></script>
<script type="text/javascript" src="/wp-content/plugins/darkmysite/assets/js/client_main.js?ver=1.2.6" id="darkmysite-client-main-js"></script>
<script type="text/javascript" id="plyr-js-js-extra">
/* <![CDATA[ */
var easy_video_player = {"plyr_iconUrl":"\/wp-content\/plugins\/easy-video-player\/lib\/plyr.svg","plyr_blankVideo":"\/wp-content\/plugins\/easy-video-player\/lib\/blank.mp4"};
/* ]]> */
</script>
<script type="text/javascript" src="/wp-content/plugins/easy-video-player/lib/plyr.js?ver=6.2.2" id="plyr-js-js"></script>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/posts/1894">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml">
<meta name="generator" content="WordPress 6.2.2">
<link rel="canonical" href="/2014/11/learning-node-js-part-5/">
<link rel="shortlink" href="/?p=1894">
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2F2014%2F11%2Flearning-node-js-part-5%2F">
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2F2014%2F11%2Flearning-node-js-part-5%2F#038;format=xml">
<link type="text/css" rel="stylesheet" href="/wp-content/plugins/category-specific-rss-feed-menu/wp_cat_rss_style.css">
<!--Custom Styling-->
<style media="screen" type="text/css">.site-description { color: #222222}
.site-title, .entry-title, .post-title, .widget-title, .posts-navigation .nav-links { font-family: Arima Madurai}
 body { font-family: Lato}</style>
	<style id="acuarela-header-css" type="text/css"></style>
<style type="text/css" id="custom-background-css">body.custom-background { background-image: url("/wp-content/uploads/2020/10/low_contrast_linen.png"); background-position: left top; background-size: cover; background-repeat: no-repeat; background-attachment: fixed; }</style>
			<style type="text/css" id="wp-custom-css">@font-face {
  font-family: "Open Sans";
  font-weight: 400;
  font-style: normal;
  src: local("Open Sans Regular"), local("OpenSans-Regular"), url("/fonts/OpenSans-Regular.woff") format("woff");
}

@font-face {
  font-family: "Open Sans Bold";
  font-weight: 700;
  font-style: normal;
  src: local("Open Sans Bold"), local("OpenSans-Bold"), url("/fonts/OpenSans-Bold.woff") format("woff");
}

@font-face {
  font-family: "Open Sans Italic";
  font-weight: 400;
  font-style: normal;
  src: local("Open Sans Italic"), local("OpenSans-Italic"), url("/fonts/OpenSans-Italic.woff") format("woff");
}

:root{
	--primary: #01408e;
	--secondary: #3c5d5c;
	--initialLine: #ad2271;
	--drop: #903;
	--paraIndent: 1.25em;
	--note: #4d5b7c;
	--bq-color: #555555;
	--bq-back: #ededed;
	--sans: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
	--mono: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
    "Courier New", monospace;
}
/* For the top menu bar. */
.site-navigation a {
	padding: 0.9em 1.5em;
}

:where(html, body) {
	overscroll-behavior-y: none;
	cursor: url("/cursors/default.cur"), auto;
}

:where(p, h1, h2, h3, h4, h5, h6, blockquote, figcaption) {
	cursor: url("/cursors/text-select.cur"), auto;
}

:where(ul, ol) {
	margin: 1em 1em;
	text-align: justify;
	text-justify: inter-word;
	cursor: url("/cursors/text-select.cur"), auto;
}

:where(aside, article) a {
	cursor: url("/cursors/link-select.cur"), auto;
}

select, button, input,
.wp-element-button,
.darkmysite_switch,
.site-title,
.site-description {
	cursor: url("/cursors/link-select.cur"), auto;
}

::selection {
  color: #fff;
  background: rgba(0, 0, 0, 0.99);
}

main,
header {
	font-size: 1rem;
}

main {
	/*From here: https://fluidtypography.com/#app-get-started*/
	/* Settings: 414-1280; 16-20; 1.6-1.3*/
	font-size: clamp(1rem, 0.462vw + 0.88rem, 1.25rem);
line-height: clamp(1.6rem, 0.046vw + 1.588rem, 1.625rem);
}

article {
	font-family: var(--sans);
	line-height: 1.6;
  word-spacing: 0.16em;
}

h1:not(.site-title) {
  font-size: 2.5em;
  margin: 0.67em 0;
  text-align: center;
}

:where(h1, h2, h3, h4) {
	text-rendering: optimizeLegibility;
	line-height: 1.4em;
}

article :where(h2, h3) {
	margin-bottom: 0.7em;
}

p {
	font-size: 1.2em;
	text-align: justify;
	text-justify: inter-word;
}

p:first-of-type:first-line {
	color: var(--initialLine);
}

li {
  margin-bottom: 0.5em;
}

/* This makes sure the first line of blockquotes are not colored since in Wordpress, a blockquote content has a paragraph tag applied to it. */
:where(blockquote, footer, .comments-area) p:first-of-type:first-line {
	color: inherit;
}
:where(p, blockquote, img, pre, ul, ol) + p:not(.note) {
  text-indent: var(--paraIndent);
}
section > h3 + p::first-letter,
section > h2 + p::first-letter,
div.entry-content > p:not(.nostyle):first-child::first-letter {
	color: var(--drop);
  border-left: 2px solid var(--drop);
  border-top: 2px solid var(--drop);
  float: left;
  font-family: Georgia;
  font-size: 65px;
  line-height: 60px;
  padding-top: 4px;
  padding-right: 12px;
  padding-left: 3px;
}

:where(aside, article) a {
	color: var(--primary);
	text-underline-position: under;
	text-decoration: underline 2px;
	transition: all 0.3s linear;
  background: linear-gradient(to right, #00d1b1 0%, #278fc6 98%);
  background-size: 0px 2px;
  background-repeat: no-repeat;
  background-position: left 10%;
  text-shadow: 0;
}

article a:hover {
  background-size: 100% 2px;
  color: var(--secondary);
}

article a:focus {
  color: var(--secondary);
}

/* Handling external links to show an icon after them, but excluding links that are part of the TesterStories site. */

a[href*="http"]::after,
a[href*="https"]::after {
  content: "";
  width: 16px;
  height: 16px;
  margin-left: 4px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z'/%3E%3Cpath fill-rule='evenodd' d='M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;
  display: inline-block;
}

a[href^="https://www.linkedin.com/"]::after {
  content: none;
}

a[href^="https://testerstories.com/"]::after {
  display: none !important;
}

img.framed {
  --b: 10px;
  margin: 0 auto;
  padding: var(--b);
  border: calc(2 * var(--b)) solid #0000;
  border-radius: 25px;
  outline: 1px solid #000;
  outline-offset: calc(-1 * var(--b));
  background: conic-gradient(from 90deg at 1px 1px, #0000 90deg, #000 0);
}

img.backframed {
  margin: 0 auto;
  border: 3px solid black;
  box-shadow: -50px -50px 0 -40px #555555, 50px 50px 0 -40px #555555;
}

.note {
  border: 1px solid rgb(107, 113, 177);
  color: var(--note);
  border-radius: 16px;
  padding: 0.5em 0.8em;
  margin: 1.9em;
}

.post {
	background-color: white;
}

.entry-content li {
	font-size: 1.2em;
}

.simplequote {
	background: #fff url(/2014/11/learning-node-js-part-5/images/box_quote.png) no-repeat;
	padding: 5px;
	margin-top: 20px; margin-bottom: 20px;
	margin-left: 50px; margin-right: 50px;
	border: 3px solid #cecece;
	text-indent: 25px;
}

p.example {
	padding: 1ex;
	margin-right: 50px; margin-left: 50px;
	border: .5ex solid #808080;
	color: #000000;
	line-height: 1.2;
	text-indent: 0em;
}

#headquote blockquote {
	text-align: left;
	margin: 0 auto 20px auto;
	color: #555;
	background: #eee url(/2014/11/learning-node-js-part-5/images/quote_top.gif) no-repeat top left;
}

#headquote blockquote {
	width: 370px;
	font-size: 110%;
	letter-spacing: -1px;
	line-height: 1.2em;
}

#headquote #quote {
	margin-left: 40px;
	padding: 20px 20px 10px 20px;
	background: url(/2014/11/learning-node-js-part-5/images/quote_bottom.gif) no-repeat right bottom;
}

#headquote #author {
	margin: 0;
	text-align: center;
	padding: 0 0 10px 0;
	color: #999;
	font-size: 95%;
}

#headquote blockquote strong {
	color: #000;
	font-weight: normal;
}

/* Center images. */

img {
	display: block;
  margin: 0 auto;
}

img.smaller {
  width: 200px;
}

img.even-smaller {
  width: 100px;
}

table td.code {
  font-family: "Courier New", courier, monospace;
  font-size: 11.5px;
}

p.box {
	font-family: Georgia, "Times New Roman", Times, serif;
	text-align: justify;
	padding-top: 25px;
	margin: 0;
	line-height: 1.2;
}

pre.box {
	white-space: pre-wrap;
	background-color: white;
	border: 1px solid;
}

p.tip {
	padding-bottom: 10px; padding-top: 10px;
	padding-right: 10px; padding-left: 10px;
	border: 1px solid;
}

div.aside {
	padding-bottom: 10px; padding-top: 10px;
	padding-right: 10px; padding-left: 10px;
	margin-right: 50px; margin-left: 50px;
	border: 1px dotted;
}

div.aside pre {
	white-space: pre-wrap;
}

pre.view {
	font-family: "Courier New", Courier, monospace;
        //font-size: 16px;
	padding-bottom: 10px; padding-top: 10px;
	padding-right: 10px; padding-left: 10px;
	white-space: pre-wrap;
	background: rgb(255,255,255); /* Old browsers */
	background: -moz-linear-gradient(top,  rgba(255,255,255,1) 0%, rgba(229,229,229,1) 100%); /* FF3.6+ */
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(255,255,255,1)), color-stop(100%,rgba(229,229,229,1))); /* Chrome,Safari4+ */
	background: -webkit-linear-gradient(top,  rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* Chrome10+,Safari5.1+ */
	background: -o-linear-gradient(top,  rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* Opera 11.10+ */
	background: -ms-linear-gradient(top,  rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* IE10+ */
	background: linear-gradient(to bottom,  rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* W3C */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e5e5e5',GradientType=0 ); /* IE6-9 */
	border: 1px solid;
	text-align: justify;
}

pre.view .string {
	color: #3366CC;
}

pre.view .sub {
        color: #8333FF;
}

pre.view .comment {
	color: #009900;
}

pre.view .highlight {
	background-color: #FFFF00;
	border: 1px solid;
	border-style: dotted;
}

pre.output .highlight {
	background-color: rgb(255,255,255);
	color: red;
	border: 1px solid;
	border-style: dotted;
}

pre.output {
	font-family: "Courier New", Courier, monospace;
        //font-size: 16px;
	padding-bottom: 10px; padding-top: 10px;
	padding-right: 10px; padding-left: 10px;
	white-space: pre-wrap;
	background: black;
	color: white;
}

blockquote {
  position: relative;
  width: 80%;
  margin: 50px auto;
  padding: 1.2em 30px 1.2em 55px;
  color: var(--bq-color);
  background-color: var(--bq-back);
  border-left: 8px solid #78c0a8;
  text-align: justify;
}

blockquote::before {
  position: absolute;
	left: 5px;
	top: -10px;
	/* Line height needed here to avoid the quote appearing out of place due to calculated line heights for the article. */
	line-height: 1.6;
	content: "\201C";
	color: #78c0a8;
	font-size: 4em;
}

blockquote::after {
	content: "";
}

blockquote span {
	display: block;
	color: #333333;
	font-style: normal;
  font-weight: bold;
  margin-top: 1em;
}

img.frame {
  --b: 10px;
  padding: var(--b);
  border: calc(2 * var(--b)) solid #0000;
  outline: 1px solid #000;
  outline-offset: calc(-1 * var(--b));
  border-radius: 25px;
  background: conic-gradient(from 90deg at 1px 1px, #0000 90deg, #000 0);
  display: block;
  margin: auto;
  margin-bottom: 1rem;
}

code {
  font-size: 0.9em;
  padding: 0.0625rem 0.5rem;
  border-radius: 0.125rem;
  border: 1px solid #d33a2c;
  box-shadow: 1px 1px #d33a2c, 2px 2px #d33a2c;
  margin: 0 0.25rem;
  color: #d33a2c;
  font-family: monospace;
}

pre {
  font-family: var(--mono);
  max-width: 100%;
	padding: 0;
}

pre code {
  word-spacing: normal;
  letter-spacing: normal;
  font-family: var(--mono);
  padding-left: 10px;
  color: #e9e9f4;
  background: #282936;
  display: block;
  max-width: 100%;
  overflow-x: scroll;
  /*font-size: 0.8em;*/

  border: 1px solid #282936;
  border-radius: 10px;
  box-shadow: 1px 1px #282936, 2px 2px #282936;
}

pre code::-webkit-scrollbar {
  -webkit-appearance: none;
  appearance: none;
}

pre code::-webkit-scrollbar:vertical {
  width: 11px;
}

pre code::-webkit-scrollbar:horizontal {
  height: 11px;
}

pre code::-webkit-scrollbar-thumb {
  border-radius: 8px;
  border: 2px solid white;
  background-color: rgba(0, 0, 0, 0.5);
}

/* The div part is only needed for long-form content that is pre-formatted. */

pre code div {
	line-height: 1.5em;
}

/* This would be for prefromatted material that is not literally from a game or simulation but is meant to indicate something about the details of the game or simulation. */

pre p {
  border: 2px solid grey;
  border-radius: 5px;
  padding: 0.8em;
	padding-top: 0;
	margin: 0;
}</style>
			</head>
	<body class="post-template-default single single-post postid-1894 single-format-standard custom-background wp-embed-responsive custom-background-image">
		<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-dark-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 0.49803921568627"></fefuncr><fefuncg type="table" tablevalues="0 0.49803921568627"></fefuncg><fefuncb type="table" tablevalues="0 0.49803921568627"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 1"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0 1"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.54901960784314 0.98823529411765"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0.71764705882353 0.25490196078431"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-red"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 1"></fefuncr><fefuncg type="table" tablevalues="0 0.27843137254902"></fefuncg><fefuncb type="table" tablevalues="0.5921568627451 0.27843137254902"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-midnight"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 0"></fefuncr><fefuncg type="table" tablevalues="0 0.64705882352941"></fefuncg><fefuncb type="table" tablevalues="0 1"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-magenta-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.78039215686275 1"></fefuncr><fefuncg type="table" tablevalues="0 0.94901960784314"></fefuncg><fefuncb type="table" tablevalues="0.35294117647059 0.47058823529412"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-green"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.65098039215686 0.40392156862745"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0.44705882352941 0.4"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-orange"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.098039215686275 1"></fefuncr><fefuncg type="table" tablevalues="0 0.66274509803922"></fefuncg><fefuncb type="table" tablevalues="0.84705882352941 0.41960784313725"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg>		<div id="container" class="site container">
	<header id="masthead" class="site-header animated fadeInDown" role="banner">

	<a class="screen-reader-text skip-link" href="#main-content">Skip to content</a>
	<a class="screen-reader-text skip-link" href="#sidebar-widget-area">Skip to sidebar</a>
	<a class="screen-reader-text skip-link" href="#page-footer">Skip to footer</a>
	<div id="site-identity" class="site-identity">
		<a href="/" class="home-link animated fadeIn" title="Stories from a Software Tester" rel="home">
			<div class="title-description">
				<h1 class="site-title">Stories from a Software Tester</h1>
				<h2 class="site-description">Twice upon a time, in another space, no distance in any direction from here &#8230;</h2>
			</div>
		</a> 

	</div>
<!--/site-identity-->

	<nav id="nav-menu" class="site-navigation main-navigation" role="navigation" aria-label="Main Navigation">
		<button id="nav-button" class="menu-toggle" role="button">
			<span class="screen-reader-text">Menu</span>
			<span class="genericon" aria-hidden="true"></span>
		</button>
		<ul id="primary-menu" class="primary-menu">
<li id="menu-item-3923" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-3923"><a href="/">Home</a></li>
<li id="menu-item-2051" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2051"><a href="/about-tester-stories/">About Tester Stories</a></li>
<li id="menu-item-2050" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2050"><a href="/who-am-i/">Who Am I</a></li>
<li id="menu-item-2048" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2048"><a href="/just-for-fun/">Just For Fun</a></li>
</ul>	</nav><!--/navigation-->


<form role="search" method="get" class="search-form" action="https://testerstories.com/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" title="Search for:">
	</label>
	<button type="submit" class="search-submit"><span class="genericon genericon-search" aria-hidden="true"></span><span class="screen-reader-text">Search</span></button>
</form>
</header><!--/header-->

<main id="main-content" class="main-content" role="main">
<article id="post-1894" class="post-1894 post type-post status-publish format-standard hentry category-node-js">
<header class="entry-header">
	<span class="entry-meta"><span class="cat-links"><span class="screen-reader-text">Published in</span><span class="genericon genericon-category" aria-hidden="true"></span><a href="/category/development/web-development/node-js/" rel="category tag">Node.js</a></span></span><h1 class="entry-title">Learning Node.js, Part 5</h1>	<span class="byline">
	Written by <a href="/author/administrator/" class="entry-author" rel="author">Jeff Nyman</a>	</span><!-- .byline -->
	<span class="entry-meta">
	<span class="genericon genericon-time" aria-hidden="true"></span><a href="/2014/11/26/" rel="bookmark" class="entry-date"><time datetime="2014-11-26T06:03:09-06:00">26 November 2014</time></a>		<span class="comments-link">
			<span class="genericon genericon-comment" aria-hidden="true"></span>
			<a href="/2014/11/learning-node-js-part-5/#respond">Leave a comment</a>		</span>
		</span><!-- .entry-meta -->
</header><!-- .entry-header -->

	<div class="entry-content">
		<p>Here I&#8217;ll take a step back from previous posts and cover the HTTP API of Node.js in a focused way.</p>
<p><span id="more-1894"></span></p>
<ul>
<li><a href="/2014/08/learning-node-js-part-1/">Learning Node.js, Part 1</a></li>
<li><a href="/2014/08/learning-node-js-part-2/">Learning Node.js, Part 2</a></li>
<li><a href="/2014/08/learning-node-js-part-3/">Learning Node.js, Part 3</a></li>
<li><a href="/2014/08/learning-node-js-part-4/">Learning Node.js, Part 4</a></li>
<li>Learning Node.js, Part 5</li>
</ul>
<p>At Node&#8217;s core is a relatively simple streaming HTTP parser. When I say relatively simple what I mean is that it contains a shade under two thousand lines of optimized C code. This parser, in combination with a low-level TCP API that Node exposes to JavaScript, provides you with a very minimal, but very flexible, HTTP server.</p>
<p>All of this is provided to you by a module called <strong>http</strong>. Like most modules in Node&#8217;s core, the http module favors simplicity. High-level &#8212; so-called &#8220;sugar&#8221; &#8212; APIs are left for third-party frameworks which provide simplified mechanisms for building web applications. Two examples of this would be Connect and Express.</p>
<p>In Node, the low-level APIs remain at the core, while abstractions and implementations are built on top of the fundamental building blocks the core provides. What this means is that Node&#8217;s core APIs are always lightweight. Because of this design, high-level concepts like sessions or even fundamentals like HTTP cookies are not provided within Node&#8217;s core.</p>
<p>This leaves &#8220;opinionated&#8221; framework-style elements, syntactic sugar, and specific details up to modules that are written by the wider Node.js community. Community members take the core APIs and create modules that allow you to get tasks done more easily. They do this by building infrastructure or functionality for you.</p>
<p>All of this should give you some insight into Node&#8217;s philosophy of construction, which is to provide small but robust networking APIs that can be built upon. This means Node makes no pretense to competing with high-level frameworks like Rails, Django, or Zend. Instead Node serves as a platform for similar such frameworks to be constructed.</p>
<h2>The HTTP Module</h2>
<p>Node.js is a modular framework built with a modern module system that is based on the CommonJS standard. Everything in Node.js is built as modules running in the V8 JavaScript engine. Since all the functionality in Node.js is built as modules, you need to import it in your code using a <code>require</code> statement. Node.js has several modules compiled in a binary form, called core modules. The HTTP module is one of those core modules.</p>
<h2>The Basic HTTP API</h2>
<p>To create an HTTP server, you call a <code>createServer()</code> function on an http object that holds a reference to the http module. Let&#8217;s try out a simple example. Create a file called <strong>server.js</strong> with the following:</p>
<p></p>
<!-- Urvanov Syntax Highlighter v2.8.33 -->

		<div id="urvanov-syntax-highlighter-647f4458380fb346949729" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Toggle Line Numbers"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Toggle Plain Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Toggle Line Wrap"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Open Code In New Window"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<span class="crayon-language">Ruby</span>
</div>
</div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var http = require('http');

var server = http.createServer(function(req, res) {
  res.write('testing');
  res.end();
});

server.listen(3000);</textarea></div>
			<div class="urvanov-syntax-highlighter-main">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f4458380fb346949729-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f4458380fb346949729-2">2</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f4458380fb346949729-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f4458380fb346949729-4">4</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f4458380fb346949729-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f4458380fb346949729-6">6</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f4458380fb346949729-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f4458380fb346949729-8">8</div>
</div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="urvanov-syntax-highlighter-647f4458380fb346949729-1">
<span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f4458380fb346949729-2">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f4458380fb346949729-3">
<span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">createServer</span><span class="crayon-sy">(</span><span class="crayon-e">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f4458380fb346949729-4">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">'testing'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f4458380fb346949729-5">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f4458380fb346949729-6">
<span class="crayon-k ">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f4458380fb346949729-7">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f4458380fb346949729-8">
<span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>With the first statement, Node will load the core HTTP module, and that module will be available in a variable called <code>http</code>.</p>
<p>The <code>createServer()</code> function accepts a single argument, which is a request listener. The request listener is a function that handles the incoming requests. In this case, the function is passed inline but you could also call out to a separate function that you define. To be completely accurate, the request listener here is a callback function. This callback function will be called on each HTTP request received by the server. This request callback function receives, as arguments, the request and response objects that are part of the HTTP communication.</p>
<p>Understand that every request that comes in to the server triggers an event, which is then handled by the event handler asynchronously. The event in this case is receiving a request to serve. The request object will have all the information about the request, such as the URL, the HTTP method, any relevant headers, and data, if any, that is being sent along with the request. The response object contains any information that gets sent back to the client and it exposes various methods to write the response to the client.</p>
<p>So, with this code, when the callback function has been triggered, the <code>write()</code> method, on the response object, writes response data to the socket. Then the <code>end()</code> method, also called on the response object, ends the response.</p>
<p>The final line of code has you bind the server to a port so that you can listen for incoming requests. To test this out, simply run it:</p>
<pre>node server.js</pre>
<p>If you visit <a href="http://localhost:3000/">http://localhost:3000</a> you will see the text &#8216;testing&#8217; returned to the browser. This admittedly simple execution demonstrates the bare minimum required for a proper HTTP response.</p>
<p>For every HTTP request received by the server, the request callback function will be invoked with new <code>req</code> and <code>res</code> objects. Prior to the callback being triggered, Node will parse the request up through the HTTP headers and provide those headers as part of the request object.</p>
<p>You can check the request headers if you want to see what gets sent in:</p>
<p></p>
<!-- Urvanov Syntax Highlighter v2.8.33 -->

		<div id="urvanov-syntax-highlighter-647f445838100124547146" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Toggle Line Numbers"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Toggle Plain Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Toggle Line Wrap"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Open Code In New Window"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<span class="crayon-language">Ruby</span>
</div>
</div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var http = require('http');

var server = http.createServer(function(req, res) {
  console.log(req.headers);
  
  res.write('testing');
  res.end();
});

server.listen(3000);</textarea></div>
			<div class="urvanov-syntax-highlighter-main">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838100124547146-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838100124547146-2">2</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838100124547146-3">3</div>
<div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838100124547146-4">4</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838100124547146-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838100124547146-6">6</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838100124547146-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838100124547146-8">8</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838100124547146-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838100124547146-10">10</div>
</div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838100124547146-1">
<span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838100124547146-2">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838100124547146-3">
<span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">createServer</span><span class="crayon-sy">(</span><span class="crayon-e">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">{</span>
</div>
<div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="urvanov-syntax-highlighter-647f445838100124547146-4">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">headers</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838100124547146-5"><span class="crayon-h">&nbsp;&nbsp;</span></div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838100124547146-6">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">'testing'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838100124547146-7">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838100124547146-8">
<span class="crayon-k ">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838100124547146-9">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838100124547146-10">
<span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>Incidentally, for any change you make you have to stop the server and restart it &#8212; unless you are using something like nodemon, node-supervisor, or something similar. See <a href="/2014/08/learning-node-js-part-1/">the first post in this series</a>, under the section &#8220;Monitoring for Changes&#8221; if you want to save yourself the stop-start process.</p>
<p>Just to be clear regarding the above example, while that shows you the request headers &#8212; i.e., those headers sent <em>to</em> the server &#8212; there are also headers being sent as part of the response as well. If you say nothing to the contrary in your code, Node uses the default status code of 200 (indicating success) and the default response headers. So the above code is executing as if the following line were in place:</p>
<p></p>
<!-- Urvanov Syntax Highlighter v2.8.33 -->

		<div id="urvanov-syntax-highlighter-647f445838105221525435" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Toggle Line Numbers"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Toggle Plain Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Toggle Line Wrap"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Open Code In New Window"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<span class="crayon-language">Ruby</span>
</div>
</div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var http = require('http');

var server = http.createServer(function(req, res) {
  res.writeHead(200, {"Content-Type": "text/plain"});
  
  res.write('testing');
  res.end();
});

server.listen(3000);</textarea></div>
			<div class="urvanov-syntax-highlighter-main">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838105221525435-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838105221525435-2">2</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838105221525435-3">3</div>
<div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838105221525435-4">4</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838105221525435-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838105221525435-6">6</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838105221525435-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838105221525435-8">8</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838105221525435-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838105221525435-10">10</div>
</div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838105221525435-1">
<span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838105221525435-2">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838105221525435-3">
<span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">createServer</span><span class="crayon-sy">(</span><span class="crayon-e">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">{</span>
</div>
<div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="urvanov-syntax-highlighter-647f445838105221525435-4">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-k ">{</span><span class="crayon-s">"Content-Type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"text/plain"</span><span class="crayon-k ">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838105221525435-5"><span class="crayon-h">&nbsp;&nbsp;</span></div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838105221525435-6">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">'testing'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838105221525435-7">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838105221525435-8">
<span class="crayon-k ">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838105221525435-9">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838105221525435-10">
<span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>The <code>writeHead()</code> method does just what it sounds like: writes out a header to the response stream. In this case, you pass a value for the status code and hash that indicates a specific header key-value.</p>
<p>Now let&#8217;s set some of the headers for the response, just so you can see how to do it.</p>
<p></p>
<!-- Urvanov Syntax Highlighter v2.8.33 -->

		<div id="urvanov-syntax-highlighter-647f44583810b143413607" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Toggle Line Numbers"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Toggle Plain Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Toggle Line Wrap"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Open Code In New Window"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<span class="crayon-language">Ruby</span>
</div>
</div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var http = require('http');

var server = http.createServer(function(req, res) {
  var message = 'testing';
  
  res.setHeader('Content-Length', message.length);
  res.setHeader('Content-Type', 'text/plain');
  
  res.write(message);
  res.end();
});

server.listen(3000);</textarea></div>
			<div class="urvanov-syntax-highlighter-main">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810b143413607-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810b143413607-2">2</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810b143413607-3">3</div>
<div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810b143413607-4">4</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810b143413607-5">5</div>
<div class="crayon-num crayon-marked-num crayon-top crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810b143413607-6">6</div>
<div class="crayon-num crayon-marked-num crayon-bottom" data-line="urvanov-syntax-highlighter-647f44583810b143413607-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810b143413607-8">8</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810b143413607-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810b143413607-10">10</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810b143413607-11">11</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810b143413607-12">12</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810b143413607-13">13</div>
</div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810b143413607-1">
<span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810b143413607-2">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810b143413607-3">
<span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">createServer</span><span class="crayon-sy">(</span><span class="crayon-e">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">{</span>
</div>
<div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810b143413607-4">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'testing'</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810b143413607-5"><span class="crayon-h">&nbsp;&nbsp;</span></div>
<div class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810b143413607-6">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">setHeader</span><span class="crayon-sy">(</span><span class="crayon-s">'Content-Length'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-marked-line crayon-bottom" id="urvanov-syntax-highlighter-647f44583810b143413607-7">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">setHeader</span><span class="crayon-sy">(</span><span class="crayon-s">'Content-Type'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810b143413607-8"><span class="crayon-h">&nbsp;&nbsp;</span></div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810b143413607-9">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">message</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810b143413607-10">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810b143413607-11">
<span class="crayon-k ">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810b143413607-12">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810b143413607-13">
<span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>Regarding that Content-Length entry, the idea there is that to speed up responses, the Content-Length field should be sent with your response when possible. Setting the Content-Length header implicitly disables what&#8217;s called &#8220;chunked encoding.&#8221; The reason provides a performance boost is because less data needs to be transferred.</p>
<p>It&#8217;s very important to note that tou can set headers &#8212; and remove them &#8212; as well as change status codes up to the first write() or end() action. Once the first write() action occurs, Node flushes the HTTP headers.</p>
<p>To show why the headers matter, let&#8217;s do a slight variation on the above.</p>
<p></p>
<!-- Urvanov Syntax Highlighter v2.8.33 -->

		<div id="urvanov-syntax-highlighter-647f44583810c796915521" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Toggle Line Numbers"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Toggle Plain Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Toggle Line Wrap"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Open Code In New Window"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<span class="crayon-language">Ruby</span>
</div>
</div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var http = require('http');

var server = http.createServer(function(req, res) {
  var message = '&lt;p&gt;&lt;strong&gt;testing&lt;/strong&gt;&lt;/p&gt;';
  
  res.setHeader('Content-Length', message.length);
  res.setHeader('Content-Type', 'text/plain');
  
  res.write(message);
  res.end();
});

server.listen(3000);</textarea></div>
			<div class="urvanov-syntax-highlighter-main">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810c796915521-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810c796915521-2">2</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810c796915521-3">3</div>
<div class="crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810c796915521-4">4</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810c796915521-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810c796915521-6">6</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810c796915521-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810c796915521-8">8</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810c796915521-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810c796915521-10">10</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810c796915521-11">11</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810c796915521-12">12</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810c796915521-13">13</div>
</div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810c796915521-1">
<span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810c796915521-2">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810c796915521-3">
<span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">createServer</span><span class="crayon-sy">(</span><span class="crayon-e">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">{</span>
</div>
<div class="crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810c796915521-4">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'&lt;p&gt;&lt;strong&gt;testing&lt;/strong&gt;&lt;/p&gt;'</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810c796915521-5"><span class="crayon-h">&nbsp;&nbsp;</span></div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810c796915521-6">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">setHeader</span><span class="crayon-sy">(</span><span class="crayon-s">'Content-Length'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810c796915521-7">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">setHeader</span><span class="crayon-sy">(</span><span class="crayon-s">'Content-Type'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810c796915521-8"><span class="crayon-h">&nbsp;&nbsp;</span></div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810c796915521-9">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">message</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810c796915521-10">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810c796915521-11">
<span class="crayon-k ">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810c796915521-12">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810c796915521-13">
<span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>You will find that the output, though in HTML format, is rendered by the browser as text because that&#8217;s what the headers state will be returned as part of the response object. (Which is also the default, as I showed earlier.) A simple change will take care of this problem:</p>
<p></p>
<!-- Urvanov Syntax Highlighter v2.8.33 -->

		<div id="urvanov-syntax-highlighter-647f44583810f146272600" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Toggle Line Numbers"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Toggle Plain Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Toggle Line Wrap"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Open Code In New Window"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<span class="crayon-language">Ruby</span>
</div>
</div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var http = require('http');

var server = http.createServer(function(req, res) {
  var message = '&lt;p&gt;&lt;strong&gt;testing&lt;/strong&gt;&lt;/p&gt;';
  
  res.setHeader('Content-Length', message.length);
  res.setHeader('Content-Type', 'text/html');
  
  res.write(message);
  res.end();
});

server.listen(3000);</textarea></div>
			<div class="urvanov-syntax-highlighter-main">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810f146272600-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810f146272600-2">2</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810f146272600-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810f146272600-4">4</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810f146272600-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810f146272600-6">6</div>
<div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="urvanov-syntax-highlighter-647f44583810f146272600-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810f146272600-8">8</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810f146272600-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810f146272600-10">10</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810f146272600-11">11</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583810f146272600-12">12</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583810f146272600-13">13</div>
</div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810f146272600-1">
<span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810f146272600-2">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810f146272600-3">
<span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">createServer</span><span class="crayon-sy">(</span><span class="crayon-e">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810f146272600-4">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'&lt;p&gt;&lt;strong&gt;testing&lt;/strong&gt;&lt;/p&gt;'</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810f146272600-5"><span class="crayon-h">&nbsp;&nbsp;</span></div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810f146272600-6">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">setHeader</span><span class="crayon-sy">(</span><span class="crayon-s">'Content-Length'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="urvanov-syntax-highlighter-647f44583810f146272600-7">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">setHeader</span><span class="crayon-sy">(</span><span class="crayon-s">'Content-Type'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'text/html'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810f146272600-8"><span class="crayon-h">&nbsp;&nbsp;</span></div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810f146272600-9">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">message</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810f146272600-10">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810f146272600-11">
<span class="crayon-k ">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583810f146272600-12">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583810f146272600-13">
<span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>Now the response header indicates that the content being returned is in HTML format and the browser will respond accordingly, parsing the HTML rather than simply displaying it.</p>
<p>Now let&#8217;s try setting the status code. To do this, I&#8217;ll need to make a few modifications.</p>
<p></p>
<!-- Urvanov Syntax Highlighter v2.8.33 -->

		<div id="urvanov-syntax-highlighter-647f445838111687088815" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Toggle Line Numbers"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Toggle Plain Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Toggle Line Wrap"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Open Code In New Window"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<span class="crayon-language">Ruby</span>
</div>
</div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var http = require('http');

var server = http.createServer(function(req, res) {
  var url = 'http://testerstories.com';
  var message = '&lt;p&gt;Redirecting to &lt;a href="' + url + '"&gt;' + url + '&lt;/a&gt;&lt;/p&gt;';
  
  res.setHeader('Location', url);
  res.setHeader('Content-Length', message.length);
  res.setHeader('Content-Type', 'text/html');
  
  res.statusCode = 302;
  
  res.write(message);
  res.end();
});

server.listen(3000);</textarea></div>
			<div class="urvanov-syntax-highlighter-main">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838111687088815-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838111687088815-2">2</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838111687088815-3">3</div>
<div class="crayon-num crayon-marked-num crayon-top crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838111687088815-4">4</div>
<div class="crayon-num crayon-marked-num crayon-bottom" data-line="urvanov-syntax-highlighter-647f445838111687088815-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838111687088815-6">6</div>
<div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="urvanov-syntax-highlighter-647f445838111687088815-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838111687088815-8">8</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838111687088815-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838111687088815-10">10</div>
<div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="urvanov-syntax-highlighter-647f445838111687088815-11">11</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838111687088815-12">12</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838111687088815-13">13</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838111687088815-14">14</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838111687088815-15">15</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838111687088815-16">16</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838111687088815-17">17</div>
</div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838111687088815-1">
<span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838111687088815-2">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838111687088815-3">
<span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">createServer</span><span class="crayon-sy">(</span><span class="crayon-e">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-k ">{</span>
</div>
<div class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="urvanov-syntax-highlighter-647f445838111687088815-4">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'http://testerstories.com'</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-marked-line crayon-bottom" id="urvanov-syntax-highlighter-647f445838111687088815-5">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">var</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'&lt;p&gt;Redirecting to &lt;a href="'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'"&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'&lt;/a&gt;&lt;/p&gt;'</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838111687088815-6"><span class="crayon-h">&nbsp;&nbsp;</span></div>
<div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="urvanov-syntax-highlighter-647f445838111687088815-7">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">setHeader</span><span class="crayon-sy">(</span><span class="crayon-s">'Location'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838111687088815-8">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">setHeader</span><span class="crayon-sy">(</span><span class="crayon-s">'Content-Length'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">message</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838111687088815-9">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">setHeader</span><span class="crayon-sy">(</span><span class="crayon-s">'Content-Type'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'text/html'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838111687088815-10"><span class="crayon-h">&nbsp;&nbsp;</span></div>
<div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="urvanov-syntax-highlighter-647f445838111687088815-11">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-v">statusCode</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">302</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838111687088815-12"><span class="crayon-h">&nbsp;&nbsp;</span></div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838111687088815-13">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">message</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838111687088815-14">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838111687088815-15">
<span class="crayon-k ">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838111687088815-16">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838111687088815-17">
<span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>Here I set a header saying that the location of this response is a particular URL. Further, while the rendering of the page would be a status code of 200, since the page successfully gets returned as part of the request, I have specifically set the status code to 302 to indicate that there was a redirect.</p>
<p>So the key things to note with these examples are that you can control entirely what gets sent back as a response and, in fact, Node&#8217;s HTTP module is assuming very little about how you want your server to operate.</p>
<h2>Routing</h2>
<p>All examples shown so far worked by passing in the request listener &#8212; the callback &#8212; inline. I also mentioned it is possible to call a function directly. So I&#8217;ll do that while showing an example of how to perform routing.</p>
<p>Just about any web application will serve more than one resource, where &#8220;resource&#8221; can mean an HTML page, an image, a stylesheet, and so on. At this point you know how to serve content using an HTTP server, but how do you handle multiple resources? That&#8217;s what routing is for. Specifically, your server needs to understand the incoming request and map it to the appropriate request handler, which means the request is routed.</p>
<p>To demonstrate the routing of requests, we&#8217;ll build a slight modification of the above. This will still be a very simple application that serves two resources at /hello and /goodbye, displaying some specific text for each.</p>
<p></p>
<!-- Urvanov Syntax Highlighter v2.8.33 -->

		<div id="urvanov-syntax-highlighter-647f445838112921105533" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Toggle Line Numbers"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Toggle Plain Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Toggle Line Wrap"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Open Code In New Window"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<span class="crayon-language">JavaScript</span>
</div>
</div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var http = require('http');
var url = require('url');

function onRequest(req, res) {
  var pathname = url.parse(req.url).pathname;

  if (pathname === '/goodbye') {
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.write('You say goodbye ...');
    res.end();
  } else if (pathname === '/hello') {
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.write('... and I say hello!');
    res.end();
  } else {
    res.writeHead(404, {'Content-Type': 'text/plain'});
    res.end('404 Not Found');
  }
}

http.createServer(onRequest).listen(3000);</textarea></div>
			<div class="urvanov-syntax-highlighter-main">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-2">2</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-4">4</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-6">6</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-8">8</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-10">10</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-11">11</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-12">12</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-13">13</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-14">14</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-15">15</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-16">16</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-17">17</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-18">18</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-19">19</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-20">20</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838112921105533-21">21</div>
</div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838112921105533-1">
<span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838112921105533-2">
<span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'url'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838112921105533-3">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838112921105533-4">
<span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">onRequest</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838112921105533-5">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">pathname</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-sy">.</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">pathname</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838112921105533-6">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838112921105533-7">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">pathname</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-s">'/goodbye'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838112921105533-8">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838112921105533-9">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">'You say goodbye ...'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838112921105533-10">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838112921105533-11">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">pathname</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-s">'/hello'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838112921105533-12">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838112921105533-13">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">'... and I say hello!'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838112921105533-14">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838112921105533-15">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838112921105533-16">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">404</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838112921105533-17">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-s">'404 Not Found'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838112921105533-18">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838112921105533-19"><span class="crayon-sy">}</span></div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838112921105533-20">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838112921105533-21">
<span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">createServer</span><span class="crayon-sy">(</span><span class="crayon-v">onRequest</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p></p>
<p>If you run this, you should be able to go to <a href="http://localhost:3000/goodbye">http://localhost:3000/goodbye</a> and <a href="http://localhost:3000/hello">http://localhost:3000/hello</a> and see the appropriate text.</p>
<p>Looking at the code, you&#8217;ll see I&#8217;m requiring another module of Node, called <code>url</code>. The reason for this is because the first thing that you need in order to route a request is to parse the URL that comes in as part of the request. When a URL string is parsed using the <code>url</code> module, it returns an instance of the URL. In this case, I&#8217;m interested in the pathname. So in line 5 I&#8217;m passing the url string from the request, and parsing it using the url module, to get the pathname.</p>
<p>What this means is that when I type in the url http://localhost:3000/hello in my browser, the <code>pathname</code> variable will hold &#8220;/hello&#8221;.</p>
<p>Notice how my call to <code>createServer</code> now calls the <code>onRequest</code> function, which serves as my named callback function. Prior to this the callback function was defined inline and thus was anonymous.</p>
<p>The next step is to send an appropriate response, based on the path being accessed. In this code, I simply check the value of pathname and then re-use very similar logic from the previous examples to write out a response. Do note that if no route can be matched, I generate a 404 response.</p>
<p>I trust it&#8217;s clear that this is an incredibly inefficient way to go about routing since I would have to add many more if/else statements. That said, if my server needs were simple enough, this might be the most effective solution. But let&#8217;s go on the assumption that it&#8217;s not scalable enough and make this functionality a little more robust.</p>
<p>Instead of the above logic, I can put the handlers in a <code>route</code> object. The handlers will be mapped by their paths. This will allow me provide a small API to extend the functionality provided by the <code>route</code> object. Here&#8217;s a modified example:</p>
<p></p>
<!-- Urvanov Syntax Highlighter v2.8.33 -->

		<div id="urvanov-syntax-highlighter-647f445838113887566445" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Toggle Line Numbers"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Toggle Plain Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Toggle Line Wrap"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Open Code In New Window"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<span class="crayon-language">JavaScript</span>
</div>
</div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var http = require('http');
var url = require('url');

var route = {
  routes : {},
  for: function(path, handler) {
    this.routes[path] = handler;
  }
};

route.for('/hello', function(req, res) {
  res.writeHead(200, {'Content-Type': 'text/plain'});
  res.write('... and I say hello!');
  res.end();
});

route.for('/goodbye', function(req, res) {
  res.writeHead(200, {'Content-Type': 'text/plain'});
  res.write('You say goodbye ...');
  res.end();
});

function onRequest(req, res) {
  var pathname = url.parse(req.url).pathname;

  if (typeof route.routes[pathname] === 'function') {
    route.routes[pathname](req, res);
  } else {
    res.writeHead(404, {'Content-Type': 'text/plain'});
    res.end('404 Not Found');
  }
}

http.createServer(onRequest).listen(3000);</textarea></div>
			<div class="urvanov-syntax-highlighter-main">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-2">2</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-4">4</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-6">6</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-8">8</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-10">10</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-11">11</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-12">12</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-13">13</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-14">14</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-15">15</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-16">16</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-17">17</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-18">18</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-19">19</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-20">20</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-21">21</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-22">22</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-23">23</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-24">24</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-25">25</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-26">26</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-27">27</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-28">28</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-29">29</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-30">30</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-31">31</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-32">32</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-33">33</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838113887566445-34">34</div>
</div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-1">
<span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-2">
<span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'url'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-3">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-4">
<span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">route</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-5">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">routes</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-6">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">path</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">handler</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-7">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">routes</span><span class="crayon-sy">[</span><span class="crayon-v">path</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">handler</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-8">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-9">
<span class="crayon-sy">}</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-10">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-11">
<span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-s">'/hello'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-12">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-13">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">'... and I say hello!'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-14">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-15">
<span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-16">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-17">
<span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-s">'/goodbye'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-18">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-19">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">'You say goodbye ...'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-20">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-21">
<span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-22">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-23">
<span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">onRequest</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-24">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">pathname</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-sy">.</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">pathname</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-25">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-26">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">typeof</span><span class="crayon-h"> </span><span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-v">routes</span><span class="crayon-sy">[</span><span class="crayon-v">pathname</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-s">'function'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-27">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-v">routes</span><span class="crayon-sy">[</span><span class="crayon-v">pathname</span><span class="crayon-sy">]</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-28">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-29">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">404</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-30">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-s">'404 Not Found'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-31">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-32"><span class="crayon-sy">}</span></div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838113887566445-33">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838113887566445-34">
<span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">createServer</span><span class="crayon-sy">(</span><span class="crayon-v">onRequest</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p></p>
<p>The functionality of the application is exactly the same as before but in this approach I don&#8217;t need to continually add &#8220;else if&#8221; blocks. Instead, I can add new routes by calling the <code>route.for</code> method from any module. Note that <code>for</code> is a method provided by the <code>route</code> object. The route has a map of the path to the handler function and also has an <code>on</code> method to add new routes. So in this case, I added two handlers for the paths /hello and /goodbye.</p>
<p>Take some time to study the above code and make sure you can see what it&#8217;s doing. Do note that the signature for the handlers is similar to the main request handler in that I expect the handlers to get the request (<code>req</code>) and response (<code>res</code>) so that the handler has everything it needs to process the request and send the response.</p>
<p>In the if condition (line 26), I check whether the route for the pathname is present, and whether it&#8217;s a function. If I find a handler for the requested path, I simply execute the handler function, passing the request and response to it (which is what line 27 is doing). If a handler is not found, I respond with the HTTP 404 response as I did in the previous example when no route could be found.</p>
<p>The nice thing about this approach is that to add a new path, I can just call the <code>route.for</code> method with the path and its handler to register it.</p>
<p>However, you can be forgiven for thinking something like this: &#8220;Okay, this started out nice and simple. But it&#8217;s getting a little &#8230; messy.&#8221; Well, the trick with Node.js is that you are building your own server. However, given Node&#8217;s modular system, the nice thing for you is that someone else has probably already done what you need. And, in fact, that&#8217;s the case, such as with the Express framework as well as others.</p>
<h2>An HTTP-Compliant App Using the API</h2>
<p>Everything I dealt with above was utilizing a GET request. It helps to understand the HTTP verbs when building your own web server, as you can probably imagine. GET is one of those verbs and, so far, it&#8217;s the only one I&#8217;m handling. There was no need to worry about handling, say, a POST request. So first let&#8217;s enhance our above app to handle one different HTTP method: POST.</p>
<p>As the first step towards this, we will add the ability to add different handlers for different methods. We will add the methods in the mapping.</p>
<p></p>
<!-- Urvanov Syntax Highlighter v2.8.33 -->

		<div id="urvanov-syntax-highlighter-647f445838116797967138" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Toggle Line Numbers"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Toggle Plain Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Toggle Line Wrap"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Open Code In New Window"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<span class="crayon-language">JavaScript</span>
</div>
</div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var http = require('http');
var url = require('url');

var route = {
  routes : {},
  for: function(method, path, handler) {
    this.routes[method + path] = handler;
  }
};

route.for('GET', '/hello', function(req, res) {
  res.writeHead(200, {'Content-Type': 'text/plain'});
  res.write('... and I say hello!');
  res.end();
});

route.for('GET', '/goodbye', function(req, res) {
  res.writeHead(200, {'Content-Type': 'text/plain'});
  res.write('You say goodbye ...');
  res.end();
});

function onRequest(req, res) {
  var pathname = url.parse(req.url).pathname;

  if (typeof(route.routes[req.method + pathname]) === 'function') {
    route.routes[req.method + pathname](req, res);
  } else {
    res.writeHead(404, {'Content-Type': 'text/plain'});
    res.end('404 Not Found');
  }
}

http.createServer(onRequest).listen(3000);</textarea></div>
			<div class="urvanov-syntax-highlighter-main">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-2">2</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-4">4</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-5">5</div>
<div class="crayon-num crayon-marked-num crayon-top crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-6">6</div>
<div class="crayon-num crayon-marked-num crayon-bottom" data-line="urvanov-syntax-highlighter-647f445838116797967138-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-8">8</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-10">10</div>
<div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="urvanov-syntax-highlighter-647f445838116797967138-11">11</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-12">12</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-13">13</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-14">14</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-15">15</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-16">16</div>
<div class="crayon-num crayon-marked-num crayon-top crayon-bottom" data-line="urvanov-syntax-highlighter-647f445838116797967138-17">17</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-18">18</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-19">19</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-20">20</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-21">21</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-22">22</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-23">23</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-24">24</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-25">25</div>
<div class="crayon-num crayon-marked-num crayon-top crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-26">26</div>
<div class="crayon-num crayon-marked-num crayon-bottom" data-line="urvanov-syntax-highlighter-647f445838116797967138-27">27</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-28">28</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-29">29</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-30">30</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-31">31</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-32">32</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-33">33</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f445838116797967138-34">34</div>
</div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838116797967138-1">
<span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-2">
<span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'url'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838116797967138-3">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-4">
<span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">route</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838116797967138-5">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">routes</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span>
</div>
<div class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-6">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">method</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">handler</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-marked-line crayon-bottom" id="urvanov-syntax-highlighter-647f445838116797967138-7">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">routes</span><span class="crayon-sy">[</span><span class="crayon-v">method</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">handler</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-8">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838116797967138-9">
<span class="crayon-sy">}</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-10">&nbsp;</div>
<div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="urvanov-syntax-highlighter-647f445838116797967138-11">
<span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-s">'GET'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'/hello'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-12">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838116797967138-13">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">'... and I say hello!'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-14">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838116797967138-15">
<span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-16">&nbsp;</div>
<div class="crayon-line crayon-marked-line crayon-top crayon-bottom" id="urvanov-syntax-highlighter-647f445838116797967138-17">
<span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-s">'GET'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'/goodbye'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-18">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838116797967138-19">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">'You say goodbye ...'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-20">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838116797967138-21">
<span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-22">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838116797967138-23">
<span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">onRequest</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-24">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">pathname</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-sy">.</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">pathname</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838116797967138-25">&nbsp;</div>
<div class="crayon-line crayon-marked-line crayon-top crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-26">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">typeof</span><span class="crayon-sy">(</span><span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-v">routes</span><span class="crayon-sy">[</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">method</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">pathname</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-s">'function'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-marked-line crayon-bottom" id="urvanov-syntax-highlighter-647f445838116797967138-27">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-v">routes</span><span class="crayon-sy">[</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">method</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">pathname</span><span class="crayon-sy">]</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-28">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838116797967138-29">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">404</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-30">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-s">'404 Not Found'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838116797967138-31">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-32"><span class="crayon-sy">}</span></div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f445838116797967138-33">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f445838116797967138-34">
<span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">createServer</span><span class="crayon-sy">(</span><span class="crayon-v">onRequest</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p></p>
<p>To test a different HTTP method, like a POST call, we have to have some way to post a request to a handler. There are various ways to do this but let&#8217;s actually create a simple HTML form that will allow us to post data to the server. To do this we&#8217;ll add an event handler for a /form path.</p>
<p></p>
<!-- Urvanov Syntax Highlighter v2.8.33 -->

		<div id="urvanov-syntax-highlighter-647f44583811a543228193" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Toggle Line Numbers"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Toggle Plain Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Toggle Line Wrap"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Open Code In New Window"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<span class="crayon-language">JavaScript</span>
</div>
</div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var http = require('http');
var url = require('url');

var route = {
  routes : {},
  for: function(method, path, handler) {
    this.routes[method + path] = handler;
  }
};

route.for('GET', '/hello', function(req, res) {
  res.writeHead(200, {'Content-Type': 'text/plain'});
  res.write('... and I say hello!');
  res.end();
});

route.for('GET', '/goodbye', function(req, res) {
  res.writeHead(200, {'Content-Type': 'text/plain'});
  res.write('You say goodbye ...');
  res.end();
});

route.for('GET', '/form', function(req, res) {
  var html = '&lt;html&gt;' +
             '&lt;head&gt;&lt;title&gt;Form Poster&lt;/title&gt;&lt;/head&gt;' +
             '&lt;body&gt;' +
             '&lt;form method="POST"&gt;' +
             '&lt;input type="text" name="input"/&gt;' +
             '&lt;input type="submit" value="echo"/&gt;' +
             '&lt;/form&gt;' +
             '&lt;/body&gt;&lt;/html&gt;';
  res.writeHead(200, {'Content-Type': 'text/html'});
  res.write(html);
  res.end();
});

function onRequest(req, res) {
  var pathname = url.parse(req.url).pathname;

  if (typeof(route.routes[req.method + pathname]) === 'function') {
    route.routes[req.method + pathname](req, res);
  } else {
    res.writeHead(404, {'Content-Type': 'text/plain'});
    res.end('404 Not Found');
  }
}

http.createServer(onRequest).listen(3000);</textarea></div>
			<div class="urvanov-syntax-highlighter-main">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-2">2</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-4">4</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-6">6</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-8">8</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-10">10</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-11">11</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-12">12</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-13">13</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-14">14</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-15">15</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-16">16</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-17">17</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-18">18</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-19">19</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-20">20</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-21">21</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-22">22</div>
<div class="crayon-num crayon-marked-num crayon-top" data-line="urvanov-syntax-highlighter-647f44583811a543228193-23">23</div>
<div class="crayon-num crayon-marked-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-24">24</div>
<div class="crayon-num crayon-marked-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-25">25</div>
<div class="crayon-num crayon-marked-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-26">26</div>
<div class="crayon-num crayon-marked-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-27">27</div>
<div class="crayon-num crayon-marked-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-28">28</div>
<div class="crayon-num crayon-marked-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-29">29</div>
<div class="crayon-num crayon-marked-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-30">30</div>
<div class="crayon-num crayon-marked-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-31">31</div>
<div class="crayon-num crayon-marked-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-32">32</div>
<div class="crayon-num crayon-marked-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-33">33</div>
<div class="crayon-num crayon-marked-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-34">34</div>
<div class="crayon-num crayon-marked-num crayon-bottom" data-line="urvanov-syntax-highlighter-647f44583811a543228193-35">35</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-36">36</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-37">37</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-38">38</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-39">39</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-40">40</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-41">41</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-42">42</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-43">43</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-44">44</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-45">45</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-46">46</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-47">47</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811a543228193-48">48</div>
</div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-1">
<span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-2">
<span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'url'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-3">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-4">
<span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">route</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-5">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">routes</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-6">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">method</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">handler</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-7">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">routes</span><span class="crayon-sy">[</span><span class="crayon-v">method</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">handler</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-8">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-9">
<span class="crayon-sy">}</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-10">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-11">
<span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-s">'GET'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'/hello'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-12">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-13">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">'... and I say hello!'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-14">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-15">
<span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-16">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-17">
<span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-s">'GET'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'/goodbye'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-18">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-19">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">'You say goodbye ...'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-20">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-21">
<span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-22">&nbsp;</div>
<div class="crayon-line crayon-marked-line crayon-top" id="urvanov-syntax-highlighter-647f44583811a543228193-23">
<span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-s">'GET'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'/form'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-marked-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-24">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">html</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'&lt;html&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span>
</div>
<div class="crayon-line crayon-marked-line" id="urvanov-syntax-highlighter-647f44583811a543228193-25">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'&lt;head&gt;&lt;title&gt;Form Poster&lt;/title&gt;&lt;/head&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span>
</div>
<div class="crayon-line crayon-marked-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-26">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'&lt;body&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span>
</div>
<div class="crayon-line crayon-marked-line" id="urvanov-syntax-highlighter-647f44583811a543228193-27">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'&lt;form method="POST"&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span>
</div>
<div class="crayon-line crayon-marked-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-28">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'&lt;input type="text" name="input"/&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span>
</div>
<div class="crayon-line crayon-marked-line" id="urvanov-syntax-highlighter-647f44583811a543228193-29">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'&lt;input type="submit" value="echo"/&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span>
</div>
<div class="crayon-line crayon-marked-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-30">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'&lt;/form&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span>
</div>
<div class="crayon-line crayon-marked-line" id="urvanov-syntax-highlighter-647f44583811a543228193-31">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'&lt;/body&gt;&lt;/html&gt;'</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-marked-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-32">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/html'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-marked-line" id="urvanov-syntax-highlighter-647f44583811a543228193-33">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">html</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-marked-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-34">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-marked-line crayon-bottom" id="urvanov-syntax-highlighter-647f44583811a543228193-35">
<span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-36">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-37">
<span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">onRequest</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-38">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">pathname</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-sy">.</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">pathname</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-39">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-40">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">typeof</span><span class="crayon-sy">(</span><span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-v">routes</span><span class="crayon-sy">[</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">method</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">pathname</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-s">'function'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-41">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-v">routes</span><span class="crayon-sy">[</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">method</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">pathname</span><span class="crayon-sy">]</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-42">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-43">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">404</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-44">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-s">'404 Not Found'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-45">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-46"><span class="crayon-sy">}</span></div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811a543228193-47">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811a543228193-48">
<span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">createServer</span><span class="crayon-sy">(</span><span class="crayon-v">onRequest</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p></p>
<p>If you go to <a href="http://localhost:3000/form">http://localhost:3000/form</a>, you will see a text field along with echo button which you can click. Clicking the button will generate a POST event and since the current app doesn&#8217;t handle POST events &#8212; there is no route for one &#8212; a 404 will be returned. So let&#8217;s add the route to handle a POST event.</p>
<p></p>
<!-- Urvanov Syntax Highlighter v2.8.33 -->

		<div id="urvanov-syntax-highlighter-647f44583811b441036723" class="urvanov-syntax-highlighter-syntax crayon-theme-classic urvanov-syntax-highlighter-font-monaco urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
<div class="crayon-button urvanov-syntax-highlighter-nums-button" title="Toggle Line Numbers"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-plain-button" title="Toggle Plain Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-wrap-button" title="Toggle Line Wrap"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-expand-button" title="Expand Code"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-copy-button" title="Copy"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<div class="crayon-button urvanov-syntax-highlighter-popup-button" title="Open Code In New Window"><div class="urvanov-syntax-highlighter-button-icon"></div></div>
<span class="crayon-language">JavaScript</span>
</div>
</div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="urvanov-syntax-highlighter-plain-wrap"><textarea wrap="soft" class="urvanov-syntax-highlighter-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var http = require('http');
var url = require('url');

var route = {
  routes : {},
  for: function(method, path, handler) {
    this.routes[method + path] = handler;
  }
};

route.for('GET', '/hello', function(req, res) {
  res.writeHead(200, {'Content-Type': 'text/plain'});
  res.write('... and I say hello!');
  res.end();
});

route.for('GET', '/goodbye', function(req, res) {
  res.writeHead(200, {'Content-Type': 'text/plain'});
  res.write('You say goodbye ...');
  res.end();
});

route.for('GET', '/form', function(req, res) {
  var html = '&lt;html&gt;' +
             '&lt;head&gt;&lt;title&gt;Form Poster&lt;/title&gt;&lt;/head&gt;' +
             '&lt;body&gt;' +
             '&lt;form method="POST"&gt;' +
             '&lt;input type="text" name="input"/&gt;' +
             '&lt;input type="submit" value="echo"/&gt;' +
             '&lt;/form&gt;' +
             '&lt;/body&gt;&lt;/html&gt;';
  res.writeHead(200, {'Content-Type': 'text/html'});
  res.write(html);
  res.end();
});

route.for('POST', '/form', function(req, res) {
  var message = "";

  req.on('data', function(chunk) {
    message += chunk.toString();
  });

  req.on('end', function() {
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.write(message);
    res.end();
  });
});

function onRequest(req, res) {
  var pathname = url.parse(req.url).pathname;

  if (typeof(route.routes[req.method + pathname]) === 'function') {
    route.routes[req.method + pathname](req, res);
  } else {
    res.writeHead(404, {'Content-Type': 'text/plain'});
    res.end('404 Not Found');
  }
}

http.createServer(onRequest).listen(3000);</textarea></div>
			<div class="urvanov-syntax-highlighter-main">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-1">1</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-2">2</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-3">3</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-4">4</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-5">5</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-6">6</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-7">7</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-8">8</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-9">9</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-10">10</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-11">11</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-12">12</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-13">13</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-14">14</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-15">15</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-16">16</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-17">17</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-18">18</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-19">19</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-20">20</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-21">21</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-22">22</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-23">23</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-24">24</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-25">25</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-26">26</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-27">27</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-28">28</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-29">29</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-30">30</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-31">31</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-32">32</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-33">33</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-34">34</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-35">35</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-36">36</div>
<div class="crayon-num crayon-marked-num crayon-top" data-line="urvanov-syntax-highlighter-647f44583811b441036723-37">37</div>
<div class="crayon-num crayon-marked-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-38">38</div>
<div class="crayon-num crayon-marked-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-39">39</div>
<div class="crayon-num crayon-marked-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-40">40</div>
<div class="crayon-num crayon-marked-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-41">41</div>
<div class="crayon-num crayon-marked-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-42">42</div>
<div class="crayon-num crayon-marked-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-43">43</div>
<div class="crayon-num crayon-marked-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-44">44</div>
<div class="crayon-num crayon-marked-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-45">45</div>
<div class="crayon-num crayon-marked-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-46">46</div>
<div class="crayon-num crayon-marked-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-47">47</div>
<div class="crayon-num crayon-marked-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-48">48</div>
<div class="crayon-num crayon-marked-num crayon-bottom" data-line="urvanov-syntax-highlighter-647f44583811b441036723-49">49</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-50">50</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-51">51</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-52">52</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-53">53</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-54">54</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-55">55</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-56">56</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-57">57</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-58">58</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-59">59</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-60">60</div>
<div class="crayon-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-61">61</div>
<div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-647f44583811b441036723-62">62</div>
</div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-1">
<span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-2">
<span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'url'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-3">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-4">
<span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">route</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-5">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">routes</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-6">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">method</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">handler</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-7">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">routes</span><span class="crayon-sy">[</span><span class="crayon-v">method</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">handler</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-8">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-9">
<span class="crayon-sy">}</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-10">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-11">
<span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-s">'GET'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'/hello'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-12">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-13">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">'... and I say hello!'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-14">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-15">
<span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-16">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-17">
<span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-s">'GET'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'/goodbye'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-18">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-19">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">'You say goodbye ...'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-20">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-21">
<span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-22">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-23">
<span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-s">'GET'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'/form'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-24">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">html</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'&lt;html&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-25">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'&lt;head&gt;&lt;title&gt;Form Poster&lt;/title&gt;&lt;/head&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-26">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'&lt;body&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-27">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'&lt;form method="POST"&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-28">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'&lt;input type="text" name="input"/&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-29">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'&lt;input type="submit" value="echo"/&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-30">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'&lt;/form&gt;'</span><span class="crayon-h"> </span><span class="crayon-o">+</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-31">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">'&lt;/body&gt;&lt;/html&gt;'</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-32">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/html'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-33">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">html</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-34">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-35">
<span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-36">&nbsp;</div>
<div class="crayon-line crayon-marked-line crayon-top" id="urvanov-syntax-highlighter-647f44583811b441036723-37">
<span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-s">'POST'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'/form'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-marked-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-38">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">message</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-marked-line" id="urvanov-syntax-highlighter-647f44583811b441036723-39">&nbsp;</div>
<div class="crayon-line crayon-marked-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-40">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'data'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">chunk</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-marked-line" id="urvanov-syntax-highlighter-647f44583811b441036723-41">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">message</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-v">chunk</span><span class="crayon-sy">.</span><span class="crayon-e">toString</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-marked-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-42">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-marked-line" id="urvanov-syntax-highlighter-647f44583811b441036723-43">&nbsp;</div>
<div class="crayon-line crayon-marked-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-44">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'end'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-marked-line" id="urvanov-syntax-highlighter-647f44583811b441036723-45">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-marked-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-46">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">message</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-marked-line" id="urvanov-syntax-highlighter-647f44583811b441036723-47">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-marked-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-48">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-marked-line crayon-bottom" id="urvanov-syntax-highlighter-647f44583811b441036723-49">
<span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-50">&nbsp;</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-51">
<span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">onRequest</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-52">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">pathname</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-sy">.</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">pathname</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-53">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-54">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">typeof</span><span class="crayon-sy">(</span><span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-v">routes</span><span class="crayon-sy">[</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">method</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">pathname</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-s">'function'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-55">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">route</span><span class="crayon-sy">.</span><span class="crayon-v">routes</span><span class="crayon-sy">[</span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">method</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">pathname</span><span class="crayon-sy">]</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-56">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-57">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">writeHead</span><span class="crayon-sy">(</span><span class="crayon-cn">404</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-s">'Content-Type'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'text/plain'</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-58">
<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-st">end</span><span class="crayon-sy">(</span><span class="crayon-s">'404 Not Found'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-59">
<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span>
</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-60"><span class="crayon-sy">}</span></div>
<div class="crayon-line" id="urvanov-syntax-highlighter-647f44583811b441036723-61">&nbsp;</div>
<div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-647f44583811b441036723-62">
<span class="crayon-v">http</span><span class="crayon-sy">.</span><span class="crayon-e">createServer</span><span class="crayon-sy">(</span><span class="crayon-v">onRequest</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">listen</span><span class="crayon-sy">(</span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span>
</div>
</div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
<p></p>
<p>Here I&#8217;m adding a new handler for the POST request on the /form path. Since <code>req</code> is an event emitter, I&#8217;m able to attach an event handler to it for  each task: for handling chunks of incoming data and for completing the request processing once all the data is received. It&#8217;s important to understand that when Node&#8217;s HTTP parser reads in and parses request data, it makes that data available in the form of data events that contain chunks of parsed data ready to be handled by the program.</p>
<p>So on lines 40 to 42 I add a listener on the request to handle chunks of incoming data. Specically, I&#8217;m saying that I&#8217;m looking to handle the &#8216;data&#8217; event on the request object. In this case, all I do is accumulate the incoming data into a message string.</p>
<p>The event handler for the &#8216;end&#8217; event will be invoked once all the data sent in POST has been received. This is the time at which the server finishes receiving all the data. To echo all this back, I just send back all the accumulated data, which is what line 46 is doing.</p>
<h2>Wrapping Up</h2>
<p>This post covered a lot of detail. As you can tell, the goal was not to end up with the best looking server in the world. In fact, there&#8217;s two aspects to this immediate code that could use improvement:</p>
<ol>
<li>Make it serve static files.</li>
<li>Modularize it so the server and router are not packed with the handlers.</li>
</ol>
<p>You also no doubt see that you are doing all of the server building work yourself whereas normally you would let a framework like express handle those details for you. Some of these topics, like serving static files and using Express, were covered in other posts in this series. The reason I went back to basics with those post is I feel it&#8217;s really helpful to do that after you&#8217;ve explored beyond those basics.</p>
<div class="addtoany_share_save_container addtoany_content addtoany_content_bottom"><div class="a2a_kit a2a_kit_size_16 addtoany_list" data-a2a-url="https://testerstories.com/2014/11/learning-node-js-part-5/" data-a2a-title="Learning Node.js, Part 5">
<a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=%2F2014%2F11%2Flearning-node-js-part-5%2F&amp;linkname=Learning%20Node.js%2C%20Part%205" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=%2F2014%2F11%2Flearning-node-js-part-5%2F&amp;linkname=Learning%20Node.js%2C%20Part%205" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=%2F2014%2F11%2Flearning-node-js-part-5%2F&amp;linkname=Learning%20Node.js%2C%20Part%205" title="LinkedIn" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_print" href="https://www.addtoany.com/add_to/print?linkurl=%2F2014%2F11%2Flearning-node-js-part-5%2F&amp;linkname=Learning%20Node.js%2C%20Part%205" title="Print" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share"><img src="https://static.addtoany.com/buttons/favicon.png" alt="Share"></a>
</div></div>      
	</div>
<!-- .entry-content -->
	<footer class="entry-footer">       
		<p class="written-by">This article was written by <a href="/author/administrator/">Jeff Nyman</a></p>
<div class="author-bio">
		
	<h3><a href="/author/administrator/" rel="author">About  Jeff Nyman</a></h3>		
	<img alt="" src="https://secure.gravatar.com/avatar/a3b6c2d0b2bafdb9ad9cdf782873204d?s=72&#038;d=mm&#038;r=pg" srcset="https://secure.gravatar.com/avatar/a3b6c2d0b2bafdb9ad9cdf782873204d?s=144&#038;d=mm&#038;r=pg 2x" class="avatar avatar-72 photo" height="72" width="72" decoding="async"><p class="author-description">Anything I put here is an approximation of the truth. You're getting a particular view of myself ... and it's the view I'm choosing to present to you. If you've never met me before in person, please realize I'm not the same in person as I am in writing. That's because I can only put part of myself down into words.

If you have met me before in person then I'd ask you to consider that the view you've formed that way and the view you come to by reading what I say here may, in fact, both be true. I'd advise that you not automatically discard either viewpoint when they conflict or accept either as truth when they agree.</p>		
</div>
<!-- .author-bio -->
	</footer><!-- .entry-footer -->

	<nav class="navigation post-navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links">
<div class="nav-previous"><a href="/2014/11/testing-is-like-writing-fiction/" rel="prev"><span class="genericon genericon-previous" aria-hidden="true"></span> <span class="screen-reader-text">Previous post:</span> <span class="post-title">Testing is Like Writing Fiction</span></a></div>
<div class="nav-next"><a href="/2014/12/interview-testers-as-if-you-want-testers/" rel="next"><span class="post-title">Interview Testers As If You Want Testers</span><span class="screen-reader-text">Next post:</span> <span class="genericon genericon-next" aria-hidden="true"></span> </a></div>
</div>
	</nav>
<div id="comments" class="comments-area">


		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2014/11/learning-node-js-part-5/#respond" style="display:none;">Cancel reply</a></small>
</h3>
<form action="https://testerstories.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> <span class="required-field-message">Required fields are marked <span class="required">*</span></span></p>
<p class="comment-form-comment"><label for="comment">Comment <span class="required">*</span></label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required></textarea></p>
<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" autocomplete="name" required></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" autocomplete="email" required></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" autocomplete="url"></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="1894" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p>
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="a712c180c3"></p>
<p style="display: none !important;"><label>&#916;<textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100"></textarea></label><input type="hidden" id="ak_js_1" name="ak_js" value="203"><script>document.getElementById( "ak_js_1" ).setAttribute( "value", ( new Date() ).getTime() );</script></p>
</form>	</div>
<!-- #respond -->
	<p class="akismet_comment_form_privacy_notice">This site uses Akismet to reduce spam. <a href="https://akismet.com/privacy/" target="_blank" rel="nofollow noopener">Learn how your comment data is processed</a>.</p>
</div>
<!-- #comments -->
</article><!-- #post-## -->
</main><!--/main-content-->
	<aside id="sidebar-widget-area" class="sidebar-widget-area" role="complementary">
		<a class="screen-reader-text skip-link" href="#page-footer">Skip to footer</a>

		<section id="sidebar" class="widget-area sidebar">
			<div id="text-6" class="widget widget_text">			<div class="textwidget">
<p><a href="https://www.linkedin.com/pub/jeff-nyman/12/b32/16a"><br>
<img decoding="async" src="https://static.licdn.com/scds/common/u/img/webpromo/btn_myprofile_160x33.png" alt="View Jeff Nyman's profile on LinkedIn" width="160" height="33" border="0"></a></p>
</div>
		</div>
<div id="categories-5" class="widget widget_categories">
<h2 class="widget-title">Topics</h2>
			<ul>
					<li class="cat-item cat-item-58">
<a href="/category/agile/">Agile</a> (2)
</li>
	<li class="cat-item cat-item-49">
<a href="/category/ai/">AI</a> (24)
<ul class="children">
	<li class="cat-item cat-item-50">
<a href="/category/ai/machine-learning/">Machine Learning</a> (12)
	<ul class="children">
	<li class="cat-item cat-item-55">
<a href="/category/ai/machine-learning/ml-series-1/">ML Series 1</a> (2)
</li>
	<li class="cat-item cat-item-56">
<a href="/category/ai/machine-learning/ml-series-2/">ML Series 2</a> (4)
</li>
	<li class="cat-item cat-item-57">
<a href="/category/ai/machine-learning/ml-series-3/">ML Series 3</a> (6)
</li>
	</ul>
</li>
</ul>
</li>
	<li class="cat-item cat-item-11">
<a href="/category/automation/">Automation</a> (68)
<ul class="children">
	<li class="cat-item cat-item-41">
<a href="/category/automation/c/">C#</a> (2)
</li>
	<li class="cat-item cat-item-8">
<a href="/category/automation/capybara/">Capybara</a> (11)
</li>
	<li class="cat-item cat-item-9">
<a href="/category/automation/cucumber/">Cucumber</a> (10)
</li>
	<li class="cat-item cat-item-31">
<a href="/category/automation/cucumber-jvm/">Cucumber-JVM</a> (6)
</li>
	<li class="cat-item cat-item-42">
<a href="/category/automation/groovy/">Groovy</a> (1)
</li>
	<li class="cat-item cat-item-40">
<a href="/category/automation/java/">Java</a> (9)
</li>
	<li class="cat-item cat-item-10">
<a href="/category/automation/qtp/">QTP</a> (6)
</li>
	<li class="cat-item cat-item-5">
<a href="/category/automation/rspec/">RSpec</a> (4)
</li>
	<li class="cat-item cat-item-7">
<a href="/category/automation/selenium/">Selenium</a> (17)
</li>
	<li class="cat-item cat-item-39">
<a href="/category/automation/serenity/">Serenity</a> (8)
</li>
	<li class="cat-item cat-item-30">
<a href="/category/automation/symbiont/">Symbiont</a> (11)
</li>
	<li class="cat-item cat-item-51">
<a href="/category/automation/tapestry/">Tapestry</a> (6)
</li>
	<li class="cat-item cat-item-6">
<a href="/category/automation/watir/">Watir</a> (4)
</li>
</ul>
</li>
	<li class="cat-item cat-item-13">
<a href="/category/bdd/">BDD</a> (24)
<ul class="children">
	<li class="cat-item cat-item-23">
<a href="/category/bdd/tdl/">TDL</a> (17)
</li>
</ul>
</li>
	<li class="cat-item cat-item-25">
<a href="/category/career/">Career</a> (33)
<ul class="children">
	<li class="cat-item cat-item-53">
<a href="/category/career/interview/">Interview</a> (10)
</li>
</ul>
</li>
	<li class="cat-item cat-item-15">
<a href="/category/communication/">Communication</a> (16)
</li>
	<li class="cat-item cat-item-65">
<a href="/category/crime-scene/">Crime Scene</a> (4)
</li>
	<li class="cat-item cat-item-52">
<a href="/category/data-science/">Data Science</a> (4)
</li>
	<li class="cat-item cat-item-61">
<a href="/category/development/">Development</a> (39)
<ul class="children">
	<li class="cat-item cat-item-36">
<a href="/category/development/chef/">Chef</a> (2)
</li>
	<li class="cat-item cat-item-32">
<a href="/category/development/inform-7/">Inform 7</a> (3)
</li>
	<li class="cat-item cat-item-38">
<a href="/category/development/javascript-test-solutions/">JavaScript</a> (6)
</li>
	<li class="cat-item cat-item-19">
<a href="/category/development/language-building/">Language Building</a> (9)
	<ul class="children">
	<li class="cat-item cat-item-20">
<a href="/category/development/language-building/rex-and-racc/">Rex and Racc</a> (3)
</li>
	</ul>
</li>
	<li class="cat-item cat-item-48">
<a href="/category/development/python/">Python</a> (4)
</li>
	<li class="cat-item cat-item-29">
<a href="/category/development/rails/">Rails</a> (4)
</li>
	<li class="cat-item cat-item-21">
<a href="/category/development/web-development/">Web Development</a> (11)
	<ul class="children">
	<li class="cat-item cat-item-34">
<a href="/category/development/web-development/node-js/">Node.js</a> (5)
</li>
	<li class="cat-item cat-item-22">
<a href="/category/development/web-development/sinatra/">Sinatra</a> (6)
</li>
	</ul>
</li>
</ul>
</li>
	<li class="cat-item cat-item-28">
<a href="/category/dialect/">Dialect</a> (6)
</li>
	<li class="cat-item cat-item-45">
<a href="/category/exploration/">Exploration</a> (14)
<ul class="children">
	<li class="cat-item cat-item-46">
<a href="/category/exploration/interactive/">Interactive</a> (6)
</li>
</ul>
</li>
	<li class="cat-item cat-item-44">
<a href="/category/indefinito/">Indefinito</a> (11)
</li>
	<li class="cat-item cat-item-17">
<a href="/category/learning/">Learning</a> (11)
</li>
	<li class="cat-item cat-item-24">
<a href="/category/lucid/">Lucid</a> (11)
</li>
	<li class="cat-item cat-item-62">
<a href="/category/product-development/">Product Development</a> (7)
</li>
	<li class="cat-item cat-item-64">
<a href="/category/product-management/">Product Management</a> (3)
</li>
	<li class="cat-item cat-item-3">
<a href="/category/quality/">Quality</a> (7)
</li>
	<li class="cat-item cat-item-14">
<a href="/category/quality-assurance/">Quality Assurance</a> (5)
</li>
	<li class="cat-item cat-item-35">
<a href="/category/specify/">Specify</a> (2)
</li>
	<li class="cat-item cat-item-16">
<a href="/category/symbiont-pg/">Symbiont-PG</a> (4)
</li>
	<li class="cat-item cat-item-27">
<a href="/category/test-solutions/">Test Solutions</a> (11)
</li>
	<li class="cat-item cat-item-4">
<a href="/category/testing/">Testing</a> (167)
<ul class="children">
	<li class="cat-item cat-item-59">
<a href="/category/testing/contracts/">Contracts</a> (2)
</li>
	<li class="cat-item cat-item-63">
<a href="/category/testing/epistemology/">Epistemology</a> (1)
</li>
	<li class="cat-item cat-item-67">
<a href="/category/testing/games/">Games</a> (8)
</li>
	<li class="cat-item cat-item-68">
<a href="/category/testing/history-and-science/">History and Science</a> (5)
</li>
	<li class="cat-item cat-item-43">
<a href="/category/testing/modern-testing/">Modern Testing</a> (15)
</li>
	<li class="cat-item cat-item-54">
<a href="/category/testing/testability/">Testability</a> (9)
</li>
</ul>
</li>
	<li class="cat-item cat-item-12">
<a href="/category/thinking/">Thinking</a> (22)
</li>
	<li class="cat-item cat-item-47">
<a href="/category/what-if/">What If</a> (1)
</li>
	<li class="cat-item cat-item-69">
<a href="/category/zmachine/">Z-Machine</a> (7)
</li>
			</ul>

			</div>
<div id="archives-5" class="widget widget_archive">
<h2 class="widget-title">Archives</h2>		<label class="screen-reader-text" for="archives-dropdown-5">Archives</label>
		<select id="archives-dropdown-5" name="archive-dropdown">
			
			<option value="">Select Month</option>
				<option value="https://testerstories.com/2023/06/"> June 2023 </option>
	<option value="https://testerstories.com/2023/05/"> May 2023 </option>
	<option value="https://testerstories.com/2023/04/"> April 2023 </option>
	<option value="https://testerstories.com/2023/03/"> March 2023 </option>
	<option value="https://testerstories.com/2023/02/"> February 2023 </option>
	<option value="https://testerstories.com/2023/01/"> January 2023 </option>
	<option value="https://testerstories.com/2022/12/"> December 2022 </option>
	<option value="https://testerstories.com/2022/11/"> November 2022 </option>
	<option value="https://testerstories.com/2022/10/"> October 2022 </option>
	<option value="https://testerstories.com/2022/07/"> July 2022 </option>
	<option value="https://testerstories.com/2022/06/"> June 2022 </option>
	<option value="https://testerstories.com/2022/05/"> May 2022 </option>
	<option value="https://testerstories.com/2022/03/"> March 2022 </option>
	<option value="https://testerstories.com/2022/02/"> February 2022 </option>
	<option value="https://testerstories.com/2022/01/"> January 2022 </option>
	<option value="https://testerstories.com/2021/12/"> December 2021 </option>
	<option value="https://testerstories.com/2021/10/"> October 2021 </option>
	<option value="https://testerstories.com/2021/08/"> August 2021 </option>
	<option value="https://testerstories.com/2021/07/"> July 2021 </option>
	<option value="https://testerstories.com/2021/06/"> June 2021 </option>
	<option value="https://testerstories.com/2021/05/"> May 2021 </option>
	<option value="https://testerstories.com/2021/04/"> April 2021 </option>
	<option value="https://testerstories.com/2021/03/"> March 2021 </option>
	<option value="https://testerstories.com/2021/02/"> February 2021 </option>
	<option value="https://testerstories.com/2021/01/"> January 2021 </option>
	<option value="https://testerstories.com/2020/11/"> November 2020 </option>
	<option value="https://testerstories.com/2020/10/"> October 2020 </option>
	<option value="https://testerstories.com/2020/09/"> September 2020 </option>
	<option value="https://testerstories.com/2020/07/"> July 2020 </option>
	<option value="https://testerstories.com/2020/06/"> June 2020 </option>
	<option value="https://testerstories.com/2020/05/"> May 2020 </option>
	<option value="https://testerstories.com/2020/02/"> February 2020 </option>
	<option value="https://testerstories.com/2020/01/"> January 2020 </option>
	<option value="https://testerstories.com/2019/12/"> December 2019 </option>
	<option value="https://testerstories.com/2019/11/"> November 2019 </option>
	<option value="https://testerstories.com/2019/10/"> October 2019 </option>
	<option value="https://testerstories.com/2019/09/"> September 2019 </option>
	<option value="https://testerstories.com/2019/08/"> August 2019 </option>
	<option value="https://testerstories.com/2019/07/"> July 2019 </option>
	<option value="https://testerstories.com/2019/06/"> June 2019 </option>
	<option value="https://testerstories.com/2019/05/"> May 2019 </option>
	<option value="https://testerstories.com/2019/04/"> April 2019 </option>
	<option value="https://testerstories.com/2019/03/"> March 2019 </option>
	<option value="https://testerstories.com/2019/02/"> February 2019 </option>
	<option value="https://testerstories.com/2019/01/"> January 2019 </option>
	<option value="https://testerstories.com/2018/12/"> December 2018 </option>
	<option value="https://testerstories.com/2018/11/"> November 2018 </option>
	<option value="https://testerstories.com/2018/10/"> October 2018 </option>
	<option value="https://testerstories.com/2018/09/"> September 2018 </option>
	<option value="https://testerstories.com/2018/08/"> August 2018 </option>
	<option value="https://testerstories.com/2018/07/"> July 2018 </option>
	<option value="https://testerstories.com/2018/06/"> June 2018 </option>
	<option value="https://testerstories.com/2018/05/"> May 2018 </option>
	<option value="https://testerstories.com/2018/04/"> April 2018 </option>
	<option value="https://testerstories.com/2018/03/"> March 2018 </option>
	<option value="https://testerstories.com/2018/02/"> February 2018 </option>
	<option value="https://testerstories.com/2018/01/"> January 2018 </option>
	<option value="https://testerstories.com/2017/12/"> December 2017 </option>
	<option value="https://testerstories.com/2017/11/"> November 2017 </option>
	<option value="https://testerstories.com/2017/10/"> October 2017 </option>
	<option value="https://testerstories.com/2017/09/"> September 2017 </option>
	<option value="https://testerstories.com/2017/08/"> August 2017 </option>
	<option value="https://testerstories.com/2017/07/"> July 2017 </option>
	<option value="https://testerstories.com/2017/06/"> June 2017 </option>
	<option value="https://testerstories.com/2017/05/"> May 2017 </option>
	<option value="https://testerstories.com/2017/04/"> April 2017 </option>
	<option value="https://testerstories.com/2017/03/"> March 2017 </option>
	<option value="https://testerstories.com/2017/02/"> February 2017 </option>
	<option value="https://testerstories.com/2017/01/"> January 2017 </option>
	<option value="https://testerstories.com/2016/12/"> December 2016 </option>
	<option value="https://testerstories.com/2016/11/"> November 2016 </option>
	<option value="https://testerstories.com/2016/10/"> October 2016 </option>
	<option value="https://testerstories.com/2016/09/"> September 2016 </option>
	<option value="https://testerstories.com/2016/08/"> August 2016 </option>
	<option value="https://testerstories.com/2016/07/"> July 2016 </option>
	<option value="https://testerstories.com/2016/06/"> June 2016 </option>
	<option value="https://testerstories.com/2016/04/"> April 2016 </option>
	<option value="https://testerstories.com/2016/03/"> March 2016 </option>
	<option value="https://testerstories.com/2016/02/"> February 2016 </option>
	<option value="https://testerstories.com/2016/01/"> January 2016 </option>
	<option value="https://testerstories.com/2015/12/"> December 2015 </option>
	<option value="https://testerstories.com/2015/11/"> November 2015 </option>
	<option value="https://testerstories.com/2015/10/"> October 2015 </option>
	<option value="https://testerstories.com/2015/09/"> September 2015 </option>
	<option value="https://testerstories.com/2015/08/"> August 2015 </option>
	<option value="https://testerstories.com/2015/07/"> July 2015 </option>
	<option value="https://testerstories.com/2015/06/"> June 2015 </option>
	<option value="https://testerstories.com/2015/05/"> May 2015 </option>
	<option value="https://testerstories.com/2015/04/"> April 2015 </option>
	<option value="https://testerstories.com/2015/03/"> March 2015 </option>
	<option value="https://testerstories.com/2015/02/"> February 2015 </option>
	<option value="https://testerstories.com/2014/12/"> December 2014 </option>
	<option value="https://testerstories.com/2014/11/"> November 2014 </option>
	<option value="https://testerstories.com/2014/10/"> October 2014 </option>
	<option value="https://testerstories.com/2014/09/"> September 2014 </option>
	<option value="https://testerstories.com/2014/08/"> August 2014 </option>
	<option value="https://testerstories.com/2014/07/"> July 2014 </option>
	<option value="https://testerstories.com/2014/06/"> June 2014 </option>
	<option value="https://testerstories.com/2014/05/"> May 2014 </option>
	<option value="https://testerstories.com/2014/04/"> April 2014 </option>
	<option value="https://testerstories.com/2014/03/"> March 2014 </option>
	<option value="https://testerstories.com/2014/01/"> January 2014 </option>
	<option value="https://testerstories.com/2013/12/"> December 2013 </option>
	<option value="https://testerstories.com/2013/09/"> September 2013 </option>
	<option value="https://testerstories.com/2013/08/"> August 2013 </option>
	<option value="https://testerstories.com/2013/07/"> July 2013 </option>
	<option value="https://testerstories.com/2013/06/"> June 2013 </option>
	<option value="https://testerstories.com/2013/05/"> May 2013 </option>
	<option value="https://testerstories.com/2013/03/"> March 2013 </option>
	<option value="https://testerstories.com/2013/01/"> January 2013 </option>
	<option value="https://testerstories.com/2012/12/"> December 2012 </option>
	<option value="https://testerstories.com/2012/10/"> October 2012 </option>
	<option value="https://testerstories.com/2012/09/"> September 2012 </option>
	<option value="https://testerstories.com/2012/08/"> August 2012 </option>
	<option value="https://testerstories.com/2012/07/"> July 2012 </option>
	<option value="https://testerstories.com/2012/06/"> June 2012 </option>
	<option value="https://testerstories.com/2012/05/"> May 2012 </option>
	<option value="https://testerstories.com/2012/04/"> April 2012 </option>
	<option value="https://testerstories.com/2012/03/"> March 2012 </option>
	<option value="https://testerstories.com/2012/02/"> February 2012 </option>
	<option value="https://testerstories.com/2012/01/"> January 2012 </option>
	<option value="https://testerstories.com/2011/12/"> December 2011 </option>
	<option value="https://testerstories.com/2011/11/"> November 2011 </option>
	<option value="https://testerstories.com/2011/10/"> October 2011 </option>
	<option value="https://testerstories.com/2011/09/"> September 2011 </option>
	<option value="https://testerstories.com/2011/08/"> August 2011 </option>

		</select>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dropdown = document.getElementById( "archives-dropdown-5" );
	function onSelectChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value !== '' ) {
			document.location.href = this.options[ this.selectedIndex ].value;
		}
	}
	dropdown.onchange = onSelectChange;
})();
/* ]]> */
</script>
			</div>
<div id="meta-5" class="widget widget_meta">
<h2 class="widget-title">Site</h2>
		<ul>
						<li><a href="/wp-login.php">Log in</a></li>
			<li><a href="/feed/">Entries feed</a></li>
			<li><a href="/comments/feed/">Comments feed</a></li>

			<li><a href="https://wordpress.org/">WordPress.org</a></li>
		</ul>

		</div>
<div id="text-4" class="widget widget_text">			<div class="textwidget"><a href="https://www.linkedin.com/pub/jeff-nyman/12/b32/16a">
          <img src="https://static.licdn.com/scds/common/u/img/webpromo/btn_myprofile_160x33.png" width="160" height="33" border="0" alt="View Jeff Nyman's profile on LinkedIn"></a></div>
		</div>
<div id="search-3" class="widget widget_search">
<form role="search" method="get" class="search-form" action="https://testerstories.com/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" title="Search for:">
	</label>
	<button type="submit" class="search-submit"><span class="genericon genericon-search" aria-hidden="true"></span><span class="screen-reader-text">Search</span></button>
</form>
</div>		</section><!-- #sidebar .widget-area -->

	</aside>

  

<footer id="page-footer" role="contentinfo">
	<div id="site-info" class="site-info">
		<span class="footer-site-title"><a href="/" rel="home">Stories from a Software Tester</a></span>
		<a href="https://wordpress.org/">Proudly powered by WordPress</a>
	</div>
<!--/site-info-->
</footer> <!--/footer-->
</div>
<!-- #container -->
            
            <style type="text/css" class="darkmysite_inline_css">#darkmysite_switch_1889352766 {
        --darkmysite_switch_apple_width_height: 60px;
        --darkmysite_switch_apple_border_radius: 7px;
        --darkmysite_switch_apple_icon_width: 30px;
        --darkmysite_switch_apple_light_mode_bg: #121116;
        --darkmysite_switch_apple_dark_mode_bg: #ffffff;
        --darkmysite_switch_apple_light_mode_icon_color: #ffffff;
        --darkmysite_switch_apple_dark_mode_icon_color: #121116;
        }

    #darkmysite_switch_1889352766 {
        --darkmysite_switch_margin_from_top: 40px;
        --darkmysite_switch_margin_from_bottom: 40px;
        --darkmysite_switch_margin_from_left: 40px;
        --darkmysite_switch_margin_from_right: 40px;
        }</style>




    <div id="darkmysite_switch_1889352766" class="darkmysite_switch  darkmysite_bottom_right   darkmysite_switch_apple" onclick="darkmysite_switch_trigger()">
        <span class="darkmysite_switch_icon"></span>
            </div>

            
    <script type="text/javascript" class="darkmysite_inline_js">document.addEventListener("DOMContentLoaded", function(event) {
            darkmysite_init_alternative_dark_mode_switch();
        });</script>


<script type="text/javascript" id="acuarela-script-js-extra">
/* <![CDATA[ */
var acuarelaScreenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script type="text/javascript" src="/wp-content/themes/acuarela/js/functions.js?ver=20190802" id="acuarela-script-js"></script>
<script type="text/javascript" src="/wp-includes/js/comment-reply.min.js?ver=6.2.2" id="comment-reply-js"></script>
<script defer type="text/javascript" src="/wp-content/plugins/akismet/_inc/akismet-frontend.js?ver=1680871091" id="akismet-frontend-js"></script>
</body>
</html>